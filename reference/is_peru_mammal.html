<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Check if species are Peru mammals — is_peru_mammal • perumammals</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Jost-0.4.10/font.css" rel="stylesheet"><link href="../deps/Overpass_Mono-0.4.10/font.css" rel="stylesheet"><link href="../deps/Abhaya_Libre-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Check if species are Peru mammals — is_peru_mammal"><meta name="description" content="Main wrapper function that validates species names against the Peru mammals
database with various output options for match quality, endemism status,
and detailed information."><meta property="og:description" content="Main wrapper function that validates species names against the Peru mammals
database with various output options for match quality, endemism status,
and detailed information."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">perumammals</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">0.0.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/getting_started.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/vignette.html">Exploring mammal diversity in Peru</a></li>
    <li><a class="dropdown-item" href="../articles/art-logo.html">Art perumammalas</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/PaulESantos/perumammals/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Check if species are Peru mammals</h1>
      <small class="dont-index">Source: <a href="https://github.com/PaulESantos/perumammals/blob/main/R/perumammals_api.R" class="external-link"><code>R/perumammals_api.R</code></a></small>
      <div class="d-none name"><code>is_peru_mammal.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Main wrapper function that validates species names against the Peru mammals
database with various output options for match quality, endemism status,
and detailed information.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">is_peru_mammal</span><span class="op">(</span></span>
<span>  <span class="va">splist</span>,</span>
<span>  return_details <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  match_type <span class="op">=</span> <span class="st">"status"</span>,</span>
<span>  filter_exact <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-splist">splist<a class="anchor" aria-label="anchor" href="#arg-splist"></a></dt>
<dd><p>Character vector of species names to check</p></dd>


<dt id="arg-return-details">return_details<a class="anchor" aria-label="anchor" href="#arg-return-details"></a></dt>
<dd><p>Logical. If TRUE, returns full validation tibble.
If FALSE, returns simplified status vector (default: FALSE)</p></dd>


<dt id="arg-match-type">match_type<a class="anchor" aria-label="anchor" href="#arg-match-type"></a></dt>
<dd><p>Character. Type of information to return when return_details = FALSE:</p><ul><li><p>"status": Returns "Found" or "Not found" (default)</p></li>
<li><p>"match_quality": Returns match quality ("Exact", "Fuzzy", or "Not found")</p></li>
<li><p>"endemic": Returns endemism status ("Endemic", "Not endemic", or "Not found")</p></li>
</ul></dd>


<dt id="arg-filter-exact">filter_exact<a class="anchor" aria-label="anchor" href="#arg-filter-exact"></a></dt>
<dd><p>Logical. If TRUE, only returns exact matches (genus_dist = 0
AND species_dist = 0). Fuzzy matches are treated as "Not found" (default: FALSE)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>If return_details = FALSE: Character vector with requested information.
If return_details = TRUE: Tibble with complete validation information.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function wraps <code><a href="validate_peru_mammals.html">validate_peru_mammals()</a></code> to provide flexible output
formats for different use cases:</p><ul><li><p>Basic presence/absence checking</p></li>
<li><p>Match quality assessment (exact vs fuzzy)</p></li>
<li><p>Endemism status queries</p></li>
</ul><p>The function handles taxonomic matching with fuzzy string matching to
accommodate minor spelling variations while maintaining data quality.</p>
<p>When filter_exact = TRUE, only matches with zero edit distance in both
genus and species names are considered valid matches. All fields related
to fuzzy matches are set to NA or "—" to maintain consistency.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">species</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"Panthera onca"</span>,       <span class="co"># Exact match</span></span></span>
<span class="r-in"><span>  <span class="st">"Pantera onca"</span>,        <span class="co"># Fuzzy match (genus misspelled)</span></span></span>
<span class="r-in"><span>  <span class="st">"Tremarctos orrnatus"</span>, <span class="co"># Fuzzy match (species misspelled)</span></span></span>
<span class="r-in"><span>  <span class="st">"Felis domesticus"</span>,     <span class="co"># Not in Peru</span></span></span>
<span class="r-in"><span>  <span class="st">"Myotis bakeri"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Check if species are found (includes fuzzy matches)</span></span></span>
<span class="r-in"><span><span class="fu">is_peru_mammal</span><span class="op">(</span><span class="va">species</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Found in Peru" "Found in Peru" "Found in Peru" "Not found"    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5] "Found in Peru"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Check with exact matches only</span></span></span>
<span class="r-in"><span><span class="fu">is_peru_mammal</span><span class="op">(</span><span class="va">species</span>, filter_exact <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Found in Peru" "Not found"     "Not found"     "Not found"    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5] "Found in Peru"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Check match quality</span></span></span>
<span class="r-in"><span><span class="fu">is_peru_mammal</span><span class="op">(</span><span class="va">species</span>, match_type <span class="op">=</span> <span class="st">"match_quality"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Exact"     "Fuzzy"     "Fuzzy"     "Not found" "Exact"    </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Check endemism</span></span></span>
<span class="r-in"><span><span class="fu">is_peru_mammal</span><span class="op">(</span><span class="va">species</span>, match_type <span class="op">=</span> <span class="st">"endemic"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Not endemic"     "Not endemic"     "Not endemic"     "Not found"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5] "Endemic to Peru"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get detailed information</span></span></span>
<span class="r-in"><span><span class="fu">is_peru_mammal</span><span class="op">(</span><span class="va">species</span>, return_details <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   sorter           Orig.Name       Matched.Name Match.Level matched Rank</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      1       Panthera onca      Panthera onca  Exact rank    TRUE    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      2        Pantera onca      Panthera onca  Exact rank    TRUE    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      3 Tremarctos orrnatus Tremarctos ornatus  Exact rank    TRUE    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4      4    Felis domesticus                ---    No match   FALSE    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5      5       Myotis bakeri      Myotis bakeri  Exact rank    TRUE    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Matched.Rank Comp.Rank valid_rank Orig.Genus Orig.Species Author</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1            2      TRUE       TRUE   PANTHERA         ONCA       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2            2      TRUE       TRUE    PANTERA         ONCA       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3            2      TRUE       TRUE TREMARCTOS     ORRNATUS       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4           NA        NA         NA      FELIS   DOMESTICUS       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5            2      TRUE       TRUE     MYOTIS       BAKERI       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Matched.Genus Matched.Species genus_dist species_dist    scientific_name</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      PANTHERA            ONCA          0            0      Panthera onca</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      PANTHERA            ONCA          1            0      Panthera onca</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    TREMARCTOS         ORNATUS          0            1 Tremarctos ornatus</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4          &lt;NA&gt;            &lt;NA&gt;         NA           NA               &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5        MYOTIS          BAKERI          0            0      Myotis bakeri</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                       common_name           family      order endemic</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      Jaguar, otorongo, uturuncu          Felidae  Carnivora   FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      Jaguar, otorongo, uturuncu          Felidae  Carnivora   FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 Oso de anteojos, ucumari, ucucu          Ursidae  Carnivora   FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4                            &lt;NA&gt;             &lt;NA&gt;       &lt;NA&gt;      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5          Murcielaguito de Baker Vespertilionidae Chiroptera    TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Match.Quality Presence.Status Endemism.Status</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1         Exact   Found in Peru     Not endemic</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2         Fuzzy   Found in Peru     Not endemic</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3         Fuzzy   Found in Peru     Not endemic</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     Not found       Not found       Not found</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5         Exact   Found in Peru Endemic to Peru</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                                                                     Summary</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                                                    Panthera onca (Jaguar, otorongo, uturuncu): Found in Peru, not endemic</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                  Panthera onca (Jaguar, otorongo, uturuncu): Found in Peru, not endemic [fuzzy match from 'Pantera onca']</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 Tremarctos ornatus (Oso de anteojos, ucumari, ucucu): Found in Peru, not endemic [fuzzy match from 'Tremarctos orrnatus']</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4                                                                      Felis domesticus: Not found in Peru mammals database</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                                                                   Myotis bakeri (Murcielaguito de Baker): Endemic to Peru</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get detailed information with exact matches only</span></span></span>
<span class="r-in"><span><span class="fu">is_peru_mammal</span><span class="op">(</span><span class="va">species</span>, return_details <span class="op">=</span> <span class="cn">TRUE</span>, filter_exact <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   sorter           Orig.Name  Matched.Name Match.Level matched Rank</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      1       Panthera onca Panthera onca  Exact rank    TRUE    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      2        Pantera onca           ---    No match   FALSE    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      3 Tremarctos orrnatus           ---    No match   FALSE    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4      4    Felis domesticus           ---    No match   FALSE    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5      5       Myotis bakeri Myotis bakeri  Exact rank    TRUE    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Matched.Rank Comp.Rank valid_rank Orig.Genus Orig.Species Author</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1            2      TRUE       TRUE   PANTHERA         ONCA       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2            2      TRUE       TRUE    PANTERA         ONCA       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3            2      TRUE       TRUE TREMARCTOS     ORRNATUS       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4           NA        NA         NA      FELIS   DOMESTICUS       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5            2      TRUE       TRUE     MYOTIS       BAKERI       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Matched.Genus Matched.Species genus_dist species_dist scientific_name</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      PANTHERA            ONCA          0            0   Panthera onca</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2          &lt;NA&gt;            &lt;NA&gt;          1            0            &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3          &lt;NA&gt;            &lt;NA&gt;          0            1            &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4          &lt;NA&gt;            &lt;NA&gt;         NA           NA            &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5        MYOTIS          BAKERI          0            0   Myotis bakeri</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  common_name           family      order endemic Match.Quality</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 Jaguar, otorongo, uturuncu          Felidae  Carnivora   FALSE         Exact</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                       &lt;NA&gt;             &lt;NA&gt;       &lt;NA&gt;      NA     Not found</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                       &lt;NA&gt;             &lt;NA&gt;       &lt;NA&gt;      NA     Not found</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4                       &lt;NA&gt;             &lt;NA&gt;       &lt;NA&gt;      NA     Not found</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     Murcielaguito de Baker Vespertilionidae Chiroptera    TRUE         Exact</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Presence.Status Endemism.Status</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   Found in Peru     Not endemic</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       Not found       Not found</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       Not found       Not found</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       Not found       Not found</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   Found in Peru Endemic to Peru</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                      Summary</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     Panthera onca (Jaguar, otorongo, uturuncu): Found in Peru, not endemic</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2        Pantera onca: Not found in Peru mammals database (exact match only)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 Tremarctos orrnatus: Not found in Peru mammals database (exact match only)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    Felis domesticus: Not found in Peru mammals database (exact match only)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                    Myotis bakeri (Murcielaguito de Baker): Endemic to Peru</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://paulefrensa.rbind.io/" class="external-link">Paul E. Santos Andrade</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

