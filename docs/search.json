[{"path":"https://paulesantos.github.io/perumammals/articles/getting_started.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Getting Started with perumammals","text":"perumammals package provides tools working Peru’s mammalian biodiversity. includes curated taxonomic backbone based Pacheco et al. (2021), comprehensive --date synthesis Peruvian mammal diversity. vignette show : Install load package Access mammal species data Validate species names Identify endemic species Explore species ecoregion Work taxonomic families","code":""},{"path":"https://paulesantos.github.io/perumammals/articles/getting_started.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"Getting Started with perumammals","text":"can install development version perumammals GitHub:","code":"# Using pak (recommended) pak::pak(\"PaulESantos/perumammals\")  # Or using remotes remotes::install_github(\"PaulESantos/perumammals\")"},{"path":"https://paulesantos.github.io/perumammals/articles/getting_started.html","id":"loading-the-package","dir":"Articles","previous_headings":"","what":"Loading the package","title":"Getting Started with perumammals","text":"","code":"library(perumammals)"},{"path":"https://paulesantos.github.io/perumammals/articles/getting_started.html","id":"available-dataset","dir":"Articles","previous_headings":"","what":"Available dataset","title":"Getting Started with perumammals","text":"main dataset included package species list provided appendix Pacheco et al. (2021):","code":"# Main species backbone data(peru_mammals) head(peru_mammals) #>       pm_id        order          family        genus     species #> 1 M0542_EUB Artiodactyla      Balaenidae    Eubalaena   australis #> 2 M0543_BAL Artiodactyla Balaenopteridae Balaenoptera bonaerensis #> 3 M0544_BAL Artiodactyla Balaenopteridae Balaenoptera    borealis #> 4 M0545_BAL Artiodactyla Balaenopteridae Balaenoptera       edeni #> 5 M0546_BAL Artiodactyla Balaenopteridae Balaenoptera    musculus #> 6 M0547_BAL Artiodactyla Balaenopteridae Balaenoptera    physalus #>            scientific_name                      scientific_name_full #> 1      Eubalaena australis    Eubalaena australis (Desmoulins, 1822) #> 2 Balaenoptera bonaerensis Balaenoptera bonaerensis Burmeister, 1867 #> 3    Balaenoptera borealis        Balaenoptera borealis Lesson, 1828 #> 4       Balaenoptera edeni         Balaenoptera edeni Anderson, 1879 #> 5    Balaenoptera musculus    Balaenoptera musculus (Linnaeus, 1758) #> 6    Balaenoptera physalus    Balaenoptera physalus (Linnaeus, 1758) #>               author                     common_name endemic ecoregions #> 1 (Desmoulins, 1822)          Ballena franca del sur   FALSE        OCE #> 2   Burmeister, 1867           Ballena minke austral   FALSE        OCE #> 3       Lesson, 1828                  Ballena de Sei   FALSE        OCE #> 4     Anderson, 1879                Ballena de Bryde   FALSE        OCE #> 5   (Linnaeus, 1758)   Rorcual gigante, ballena azul   FALSE        OCE #> 6   (Linnaeus, 1758) Rorcual común, ballena de aleta   FALSE        OCE #>               reference #> 1            Reyes 2009 #> 2            Reyes 2009 #> 3 Jefferson et al. 1993 #> 4            Reyes 2009 #> 5 Jefferson et al. 1993 #> 6 Jefferson et al. 1993"},{"path":"https://paulesantos.github.io/perumammals/articles/getting_started.html","id":"basic-name-validation","dir":"Articles","previous_headings":"","what":"Basic name validation","title":"Getting Started with perumammals","text":"core function validate_peru_mammals() checks species names present Peruvian mammal checklist:","code":"# Single species species_list <- c(   \"Puma concolor\",           # Valid name   \"Tremarctos ornatus\",      # Valid name     \"Panthera onca\",           # Valid name   \"Lycalopex sechurae\",      # Valid name   \"Odocoileus virginianus\",  # Valid name   \"Puma concolar\"            # Misspelled )  results <- validate_peru_mammals(species_list) results #>   sorter              Orig.Name       Matched.Name            Match.Level #> 1      1          Puma concolor      Puma concolor             Exact rank #> 2      2     Tremarctos ornatus Tremarctos ornatus             Exact rank #> 3      3          Panthera onca      Panthera onca             Exact rank #> 4      4     Lycalopex sechurae Lycalopex sechurae             Exact rank #> 5      5 Odocoileus virginianus         Odocoileus Matched at higher rank #> 6      6          Puma concolar      Puma concolor             Exact rank #>   matched Rank Matched.Rank Comp.Rank valid_rank Orig.Genus Orig.Species Author #> 1    TRUE    2            2      TRUE       TRUE       PUMA     CONCOLOR        #> 2    TRUE    2            2      TRUE       TRUE TREMARCTOS      ORNATUS        #> 3    TRUE    2            2      TRUE       TRUE   PANTHERA         ONCA        #> 4    TRUE    2            2      TRUE       TRUE  LYCALOPEX     SECHURAE        #> 5   FALSE    2            1     FALSE      FALSE ODOCOILEUS  VIRGINIANUS        #> 6    TRUE    2            2      TRUE       TRUE       PUMA     CONCOLAR        #>   Matched.Genus Matched.Species genus_dist species_dist    scientific_name #> 1          PUMA        CONCOLOR          0            0      Puma concolor #> 2    TREMARCTOS         ORNATUS          0            0 Tremarctos ornatus #> 3      PANTHERA            ONCA          0            0      Panthera onca #> 4     LYCALOPEX        SECHURAE          0            0 Lycalopex sechurae #> 5    ODOCOILEUS            <NA>          0           NA               <NA> #> 6          PUMA        CONCOLOR          0            1      Puma concolor #>                       common_name  family     order endemic #> 1        Puma, león, lluichu-puma Felidae Carnivora   FALSE #> 2 Oso de anteojos, ucumari, ucucu Ursidae Carnivora   FALSE #> 3      Jaguar, otorongo, uturuncu Felidae Carnivora   FALSE #> 4                Zorro de Sechura Canidae Carnivora   FALSE #> 5                            <NA>    <NA>      <NA>      NA #> 6        Puma, león, lluichu-puma Felidae Carnivora   FALSE"},{"path":[]},{"path":"https://paulesantos.github.io/perumammals/articles/getting_started.html","id":"check-if-species-occur-in-peru","dir":"Articles","previous_headings":"Quick checks with wrapper functions","what":"Check if species occur in Peru","title":"Getting Started with perumammals","text":"","code":"# Returns TRUE/FALSE is_peru_mammal(species_list) #> [1] \"Found in Peru\" \"Found in Peru\" \"Found in Peru\" \"Found in Peru\" #> [5] \"Not found\"     \"Found in Peru\""},{"path":"https://paulesantos.github.io/perumammals/articles/getting_started.html","id":"identify-endemic-species","dir":"Articles","previous_headings":"Quick checks with wrapper functions","what":"Identify endemic species","title":"Getting Started with perumammals","text":"","code":"# Check which species are endemic to Peru species_list <- c(\"Thomasomys notatus\", \"Tremarctos ornatus\", \"Eptesicus mochica\", \"Puma concolar\")  is_endemic_peru(species_list) #> [1] \"Endemic to Peru\" \"Not endemic\"     \"Endemic to Peru\" \"Not endemic\"  # Get endemic status as character endemic_status <- ifelse(   is_endemic_peru(species_list) == \"Endemic to Peru\",   \"Endémica\",   \"No endémica\" ) endemic_status #> [1] \"Endémica\"    \"No endémica\" \"Endémica\"    \"No endémica\""},{"path":"https://paulesantos.github.io/perumammals/articles/getting_started.html","id":"check-match-quality","dir":"Articles","previous_headings":"Quick checks with wrapper functions","what":"Check match quality","title":"Getting Started with perumammals","text":"","code":"# Get match quality levels match_quality_peru(species_list) #> [1] \"Exact\" \"Exact\" \"Exact\" \"Fuzzy\""},{"path":"https://paulesantos.github.io/perumammals/articles/getting_started.html","id":"working-with-data-frames","dir":"Articles","previous_headings":"","what":"Working with data frames","title":"Getting Started with perumammals","text":"validation functions integrate smoothly data frames tidyverse:","code":"library(dplyr)  # Create a sample dataset my_data <- tibble(   species = species_list,   abundance = c(5, 3, 2, 8) )  # Add validation results my_data_validated <- my_data |>    mutate(     in_peru = is_peru_mammal(species),     endemic = is_endemic_peru(species),     match_quality = match_quality_peru(species)   )  my_data_validated #> # A tibble: 4 × 5 #>   species            abundance in_peru       endemic         match_quality #>   <chr>                  <dbl> <chr>         <chr>           <chr>         #> 1 Thomasomys notatus         5 Found in Peru Endemic to Peru Exact         #> 2 Tremarctos ornatus         3 Found in Peru Not endemic     Exact         #> 3 Eptesicus mochica          2 Found in Peru Endemic to Peru Exact         #> 4 Puma concolar              8 Found in Peru Not endemic     Fuzzy"},{"path":[]},{"path":"https://paulesantos.github.io/perumammals/articles/getting_started.html","id":"list-all-families","dir":"Articles","previous_headings":"Exploring taxonomic families","what":"List all families","title":"Getting Started with perumammals","text":"","code":"# Get summary of all families families <- pm_list_families() families #> # A tibble: 51 × 5 #>    order        family          n_genera n_species n_endemic #>    <chr>        <chr>              <int>     <int>     <int> #>  1 Artiodactyla Balaenidae             1         1         0 #>  2 Artiodactyla Balaenopteridae        2         6         0 #>  3 Artiodactyla Camelidae              2         4         0 #>  4 Artiodactyla Cerevidae              5         8         0 #>  5 Artiodactyla Delphinidae           13        17         0 #>  6 Artiodactyla Iniidae                1         1         0 #>  7 Artiodactyla Phocoenidae            1         1         0 #>  8 Artiodactyla Physeteridae           2         3         0 #>  9 Artiodactyla Tayassuidae            2         2         0 #> 10 Artiodactyla Ziphiidae              2         3         0 #> # ℹ 41 more rows  # Families with highest species richness families |>    arrange(desc(n_species)) |>    head(10) #> # A tibble: 10 × 5 #>    order           family           n_genera n_species n_endemic #>    <chr>           <chr>               <int>     <int>     <int> #>  1 Rodentia        Cricetidae             40       137        47 #>  2 Chiroptera      Phyllostomidae         38       107         3 #>  3 Didelphimorphia Didelphidae            15        47        10 #>  4 Chiroptera      Molossidae              9        30         3 #>  5 Chiroptera      Vespertilionidae        4        25         3 #>  6 Primates        Cebidae                 6        23         4 #>  7 Rodentia        Echimyidae              8        20         3 #>  8 Artiodactyla    Delphinidae            13        17         0 #>  9 Chiroptera      Emballonuridae          7        14         0 #> 10 Primates        Pitheciidae             3        12         4"},{"path":"https://paulesantos.github.io/perumammals/articles/getting_started.html","id":"filter-by-family","dir":"Articles","previous_headings":"Exploring taxonomic families","what":"Filter by family","title":"Getting Started with perumammals","text":"","code":"# Get summary for bat species (Phyllostomidae) pm_list_families() |>    filter(family == \"Phyllostomidae\") #> # A tibble: 1 × 5 #>   order      family         n_genera n_species n_endemic #>   <chr>      <chr>             <int>     <int>     <int> #> 1 Chiroptera Phyllostomidae       38       107         3  # Get species list for a specific family  pm_species(family = \"Phyllostomidae\") #> # A tibble: 107 × 5 #>    order      family         genus    species       scientific_name        #>    <chr>      <chr>          <chr>    <chr>         <chr>                  #>  1 Chiroptera Phyllostomidae Anoura   aequatoris    Anoura aequatoris      #>  2 Chiroptera Phyllostomidae Anoura   caudifer      Anoura caudifer        #>  3 Chiroptera Phyllostomidae Anoura   cultrata      Anoura cultrata        #>  4 Chiroptera Phyllostomidae Anoura   fistulata     Anoura fistulata       #>  5 Chiroptera Phyllostomidae Anoura   geoffroyi     Anoura geoffroyi       #>  6 Chiroptera Phyllostomidae Anoura   javieri       Anoura javieri         #>  7 Chiroptera Phyllostomidae Anoura   latidens      Anoura latidens        #>  8 Chiroptera Phyllostomidae Anoura   peruana       Anoura peruana         #>  9 Chiroptera Phyllostomidae Artibeus aequatorialis Artibeus aequatorialis #> 10 Chiroptera Phyllostomidae Artibeus anderseni     Artibeus anderseni     #> # ℹ 97 more rows"},{"path":[]},{"path":"https://paulesantos.github.io/perumammals/articles/getting_started.html","id":"get-endemic-species-list","dir":"Articles","previous_headings":"Analyzing endemic species","what":"Get endemic species list","title":"Getting Started with perumammals","text":"","code":"# List all endemic species endemic_mammals <- pm_species(endemic = TRUE) endemic_mammals #> # A tibble: 87 × 5 #>    order      family           genus         species   scientific_name      #>    <chr>      <chr>            <chr>         <chr>     <chr>                #>  1 Chiroptera Molossidae       Eumops        chiribaya Eumops chiribaya     #>  2 Chiroptera Molossidae       Mormopterus   phrudus   Mormopterus phrudus  #>  3 Chiroptera Molossidae       Tomopeas      ravus     Tomopeas ravus       #>  4 Chiroptera Phyllostomidae   Anoura        javieri   Anoura javieri       #>  5 Chiroptera Phyllostomidae   Hsunycteris   dashe     Hsunycteris dashe    #>  6 Chiroptera Phyllostomidae   Micronycteris matses    Micronycteris matses #>  7 Chiroptera Vespertilionidae Eptesicus     mochica   Eptesicus mochica    #>  8 Chiroptera Vespertilionidae Lasiurus      arequipae Lasiurus arequipae   #>  9 Chiroptera Vespertilionidae Myotis        bakeri    Myotis bakeri        #> 10 Cingulata  Dasypodidae      Dasypus       pilosus   Dasypus pilosus      #> # ℹ 77 more rows  # Endemic species by family endemic_mammals |>    group_by(family) |>    summarise(n_species = n_distinct(scientific_name)) |>    arrange(desc(n_species)) |>    head(10) #> # A tibble: 10 × 2 #>    family           n_species #>    <chr>                <int> #>  1 Cricetidae              47 #>  2 Didelphidae             10 #>  3 Cebidae                  4 #>  4 Pitheciidae              4 #>  5 Echimyidae               3 #>  6 Molossidae               3 #>  7 Phyllostomidae           3 #>  8 Vespertilionidae         3 #>  9 Abrocomidae              2 #> 10 Soricidae                2"},{"path":"https://paulesantos.github.io/perumammals/articles/getting_started.html","id":"endemic-species-by-ecoregion","dir":"Articles","previous_headings":"Analyzing endemic species","what":"Endemic species by ecoregion","title":"Getting Started with perumammals","text":"","code":"# Compare endemism across ecoregions endemic_rate <- pm_list_ecoregions(include_endemic = TRUE) #> ── Peruvian Mammal Ecoregions (Brack-Egg, 1986) ──────────────────────────────── #> ℹ Number of ecoregions: 10 #> ℹ Total mammal species in Peru: 573 #>  #> Ecoregions by species richness: #>  #> SB - Selva Baja: 320 species (55.8%), 18 endemic (5.6%) #> YUN - Yungas: 256 species (44.7%), 48 endemic (18.8%) #> SP - Sabana de Palmera: 83 species (14.5%), 0 endemic (0%) #> BSE - Bosque Seco Ecuatorial: 81 species (14.1%), 4 endemic (4.9%) #> VOC - Vertiente Occidental: 72 species (12.6%), 15 endemic (20.8%) #> PUN - Puna: 71 species (12.4%), 14 endemic (19.7%) #> BPP - Bosque Pluvial del Pacífico: 69 species (12%), 0 endemic (0%) #> COS - Costa: 66 species (11.5%), 16 endemic (24.2%) #> OCE - Oceánica: 30 species (5.2%), 0 endemic (0%) #> PAR - Páramo: 26 species (4.5%), 4 endemic (15.4%) #>  #> Use pm_by_ecoregion() to filter species by ecoregion #> ──────────────────────────────────────────────────────────────────────────────── endemic_rate #> # A tibble: 10 × 6 #>    ecoregion_code ecoregion_label    n_species n_endemic pct_species pct_endemic #>    <chr>          <chr>                  <int>     <int>       <dbl>       <dbl> #>  1 SB             Selva Baja               320        18        55.8         5.6 #>  2 YUN            Yungas                   256        48        44.7        18.8 #>  3 SP             Sabana de Palmera         83         0        14.5         0   #>  4 BSE            Bosque Seco Ecuat…        81         4        14.1         4.9 #>  5 VOC            Vertiente Occiden…        72        15        12.6        20.8 #>  6 PUN            Puna                      71        14        12.4        19.7 #>  7 BPP            Bosque Pluvial de…        69         0        12           0   #>  8 COS            Costa                     66        16        11.5        24.2 #>  9 OCE            Oceánica                  30         0         5.2         0   #> 10 PAR            Páramo                    26         4         4.5        15.4  # Endemic species in Yungas pm_by_ecoregion(ecoregion = \"YUN\", endemic = TRUE) #> # A tibble: 48 × 5 #>    order           family         genus       species     scientific_name       #>    <chr>           <chr>          <chr>       <chr>       <chr>                 #>  1 Chiroptera      Molossidae     Mormopterus phrudus     Mormopterus phrudus   #>  2 Chiroptera      Phyllostomidae Anoura      javieri     Anoura javieri        #>  3 Cingulata       Dasypodidae    Dasypus     pilosus     Dasypus pilosus       #>  4 Didelphimorphia Didelphidae    Marmosa     andersoni   Marmosa andersoni     #>  5 Didelphimorphia Didelphidae    Marmosa     parda       Marmosa parda         #>  6 Didelphimorphia Didelphidae    Marmosops   juninensis  Marmosops juninensis  #>  7 Didelphimorphia Didelphidae    Monodelphis gardeni     Monodelphis gardeni   #>  8 Didelphimorphia Didelphidae    Philander   nigratus    Philander nigratus    #>  9 Eulipotyphla    Soricidae      Cryptotis   evaristoi   Cryptotis evaristoi   #> 10 Eulipotyphla    Soricidae      Cryptotis   peruviensis Cryptotis peruviensis #> # ℹ 38 more rows"},{"path":[]},{"path":"https://paulesantos.github.io/perumammals/articles/getting_started.html","id":"species-distribution-across-ecoregions","dir":"Articles","previous_headings":"Ecoregion analysis","what":"Species distribution across ecoregions","title":"Getting Started with perumammals","text":"","code":"# Count species per ecoregion pm_list_ecoregions() #> ── Peruvian Mammal Ecoregions (Brack-Egg, 1986) ──────────────────────────────── #> ℹ Number of ecoregions: 10 #> ℹ Total mammal species in Peru: 573 #>  #> Ecoregions by species richness: #>  #> SB - Selva Baja: 320 species (55.8%) #> YUN - Yungas: 256 species (44.7%) #> SP - Sabana de Palmera: 83 species (14.5%) #> BSE - Bosque Seco Ecuatorial: 81 species (14.1%) #> VOC - Vertiente Occidental: 72 species (12.6%) #> PUN - Puna: 71 species (12.4%) #> BPP - Bosque Pluvial del Pacífico: 69 species (12%) #> COS - Costa: 66 species (11.5%) #> OCE - Oceánica: 30 species (5.2%) #> PAR - Páramo: 26 species (4.5%) #>  #> Use pm_by_ecoregion() to filter species by ecoregion #> Use include_endemic = TRUE to see endemic species counts #> ────────────────────────────────────────────────────────────────────────────────"},{"path":"https://paulesantos.github.io/perumammals/articles/getting_started.html","id":"species-with-widest-distribution","dir":"Articles","previous_headings":"Ecoregion analysis","what":"Species with widest distribution","title":"Getting Started with perumammals","text":"","code":"# Species occurring in most ecoregions peru_mammals_ecoregions |>    count(scientific_name, name = \"n_ecoregions\") |>    arrange(desc(n_ecoregions)) |>    top_n(10) #> Selecting by n_ecoregions #> # A tibble: 12 × 2 #>    scientific_name          n_ecoregions #>    <chr>                           <int> #>  1 Puma concolor                       8 #>  2 Desmodus rotundus                   7 #>  3 Molossus molossus                   7 #>  4 Odocoileus peruvianus               7 #>  5 Conepatus semistriatus              6 #>  6 Lasiurus blossevillii               6 #>  7 Leopardus pardalis                  6 #>  8 Mazama americana                    6 #>  9 Myotis keaysi                       6 #> 10 Myotis nigricans                    6 #> 11 Rhipidomys leucodactylus            6 #> 12 Tamandua tetradactyla               6"},{"path":[]},{"path":"https://paulesantos.github.io/perumammals/articles/getting_started.html","id":"example-1-data-cleaning-workflow","dir":"Articles","previous_headings":"Practical examples","what":"Example 1: Data cleaning workflow","title":"Getting Started with perumammals","text":"","code":"# Messy species list from field observations field_data <- tibble(   location = c(\"Manu\", \"Tambopata\", \"Paracas\", \"Cusco\", \"Lima\"),   species_name = c(     \"puma concolor\",           # lowercase     \"Tremarctos ornatu\",       # missing 's'     \"Otaria flavescens\",       # marine mammal     \"Lycalopex sechure\",       # missing 'ae'     \"Unknown bat\"              # invalid   ),   count = c(2, 1, 15, 3, 8) )  # Validate and clean field_data_clean <- field_data %>%   mutate(     # Validate names     validated = validate_peru_mammals(species_name)$Matched.Name,     # Check if in Peru     in_checklist = is_peru_mammal(species_name),     # Get match quality     quality = match_quality_peru(species_name)   )  field_data_clean #> # A tibble: 5 × 6 #>   location  species_name      count validated          in_checklist  quality   #>   <chr>     <chr>             <dbl> <chr>              <chr>         <chr>     #> 1 Manu      puma concolor         2 Puma concolor      Found in Peru Exact     #> 2 Tambopata Tremarctos ornatu     1 Tremarctos ornatus Found in Peru Fuzzy     #> 3 Paracas   Otaria flavescens    15 Otaria flavescens  Found in Peru Exact     #> 4 Cusco     Lycalopex sechure     3 Lycalopex sechurae Found in Peru Fuzzy     #> 5 Lima      Unknown bat           8 ---                Not found     Not found"},{"path":"https://paulesantos.github.io/perumammals/articles/getting_started.html","id":"example-2-endemic-species-summary","dir":"Articles","previous_headings":"Practical examples","what":"Example 2: Endemic species summary","title":"Getting Started with perumammals","text":"","code":"# Get all endemic mammals endemic_species <- pm_species(endemic = TRUE) endemic_species #> # A tibble: 87 × 5 #>    order      family           genus         species   scientific_name      #>    <chr>      <chr>            <chr>         <chr>     <chr>                #>  1 Chiroptera Molossidae       Eumops        chiribaya Eumops chiribaya     #>  2 Chiroptera Molossidae       Mormopterus   phrudus   Mormopterus phrudus  #>  3 Chiroptera Molossidae       Tomopeas      ravus     Tomopeas ravus       #>  4 Chiroptera Phyllostomidae   Anoura        javieri   Anoura javieri       #>  5 Chiroptera Phyllostomidae   Hsunycteris   dashe     Hsunycteris dashe    #>  6 Chiroptera Phyllostomidae   Micronycteris matses    Micronycteris matses #>  7 Chiroptera Vespertilionidae Eptesicus     mochica   Eptesicus mochica    #>  8 Chiroptera Vespertilionidae Lasiurus      arequipae Lasiurus arequipae   #>  9 Chiroptera Vespertilionidae Myotis        bakeri    Myotis bakeri        #> 10 Cingulata  Dasypodidae      Dasypus       pilosus   Dasypus pilosus      #> # ℹ 77 more rows # Total endemic species by order endemic_species |>    count(order, name = \"n_endemic\") |>    arrange(desc(n_endemic)) #> # A tibble: 6 × 2 #>   order           n_endemic #>   <chr>               <int> #> 1 Rodentia               56 #> 2 Didelphimorphia        10 #> 3 Chiroptera              9 #> 4 Primates                9 #> 5 Eulipotyphla            2 #> 6 Cingulata               1"},{"path":"https://paulesantos.github.io/perumammals/articles/getting_started.html","id":"example-3-ecoregion-specific-analysis","dir":"Articles","previous_headings":"Practical examples","what":"Example 3: Ecoregion-specific analysis","title":"Getting Started with perumammals","text":"","code":"# Focus on Selva Baja (Amazon lowlands)  selva_baja_species <- pm_by_ecoregion(ecoregion = \"SB\") selva_baja_species #> # A tibble: 320 × 5 #>    order        family      genus       species     scientific_name        #>    <chr>        <chr>       <chr>       <chr>       <chr>                  #>  1 Artiodactyla Cerevidae   Blastocerus dichotomus  Blastocerus dichotomus #>  2 Artiodactyla Cerevidae   Mazama      americana   Mazama americana       #>  3 Artiodactyla Cerevidae   Mazama      nemorivaga  Mazama nemorivaga      #>  4 Artiodactyla Cerevidae   Odocoileus  peruvianus  Odocoileus peruvianus  #>  5 Artiodactyla Delphinidae Sotalia     fluviatilis Sotalia fluviatilis    #>  6 Artiodactyla Iniidae     Inia        geoffrensis Inia geoffrensis       #>  7 Artiodactyla Tayassuidae Dicotyles   tajacu      Dicotyles tajacu       #>  8 Artiodactyla Tayassuidae Tayassu     pecari      Tayassu pecari         #>  9 Carnivora    Canidae     Atelocynus  microtis    Atelocynus microtis    #> 10 Carnivora    Canidae     Speothos    venaticus   Speothos venaticus     #> # ℹ 310 more rows  # Endemic species in Selva Baja pm_by_ecoregion(ecoregion = \"SB\", endemic = TRUE) |>    count(family, name = \"n_species\") |>    arrange(desc(n_species)) #> # A tibble: 7 × 2 #>   family         n_species #>   <chr>              <int> #> 1 Cebidae                4 #> 2 Didelphidae            4 #> 3 Pitheciidae            4 #> 4 Cricetidae             2 #> 5 Phyllostomidae         2 #> 6 Echimyidae             1 #> 7 Sciuridae              1"},{"path":"https://paulesantos.github.io/perumammals/articles/getting_started.html","id":"advanced-fuzzy-matching-details","dir":"Articles","previous_headings":"","what":"Advanced: Fuzzy matching details","title":"Getting Started with perumammals","text":"validation algorithm uses hierarchical matching approach: Exact match: Perfect match accepted name Genus + fuzzy species: Genus exact, species small differences Fuzzy genus + exact species: Species exact, genus small differences Double fuzzy: genus species small differences match: acceptable match found","code":"# Examples of different match levels test_names <- c(   \"Puma concolor\",              # Level: Exact   \"Tremarctos ornatus Cuvier\",     \"Lycalopex sechure\",          # Level: Genus + fuzzy species   \"Lyclopex sechurae\",          # Level: Fuzzy genus + exact species   \"Panthera onca\"               # Level: Exact )  validate_peru_mammals(test_names) |>    select(Orig.Name, Matched.Name, matched) #> Warning: Found 1 name(s) with 3+ elements (likely author info or infraspecies). #> The peru_mammals database only accepts binomial names (Genus species). #> Please provide names WITHOUT author information or infraspecific taxa. #>  #> Invalid names: #>   - 'Tremarctos ornatus cuvier' #>  #> These names have been marked as NOT FOUND. #>                   Orig.Name       Matched.Name matched #> 1             Puma concolor      Puma concolor    TRUE #> 2 Tremarctos ornatus cuvier                ---   FALSE #> 3         Lycalopex sechure Lycalopex sechurae    TRUE #> 4         Lyclopex sechurae Lycalopex sechurae    TRUE #> 5             Panthera onca      Panthera onca    TRUE"},{"path":"https://paulesantos.github.io/perumammals/articles/getting_started.html","id":"citation","dir":"Articles","previous_headings":"","what":"Citation","title":"Getting Started with perumammals","text":"using package, please cite package source data: Package citation: Santos Andrade, P. E., & Gonzales Guillen, F. N. (2025). perumammals: Taxonomic Backbone Name Validation Tools Mammals Peru. Data source: Pacheco, V., Cadenillas, R., Zeballos, H., Hurtado, C. M., Ruelas, D., & Pari, . (2021). Lista actualizada de la diversidad de los mamíferos del Perú y una propuesta para su actualización. Revista Peruana de Biología, 28(special issue), e21019. https://doi.org/10.15381/rpb.v28i4.21019","code":"citation(\"perumammals\")"},{"path":"https://paulesantos.github.io/perumammals/articles/vignette.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Exploring Mammal Diversity in Peru with perumammals","text":"Peru widely recognized one world’s megadiverse countries, ranking second Neotropics Americas mammalian diversity, 573 species across 13 orders (Pacheco et al., 2021). perumammals package provides direct access updated taxonomic dataset, enabling researchers, students, conservation practitioners explore, validate, analyze mammals occurring Peru.","code":""},{"path":"https://paulesantos.github.io/perumammals/articles/vignette.html","id":"dataset-background","dir":"Articles","previous_headings":"Introduction","what":"Dataset Background","title":"Exploring Mammal Diversity in Peru with perumammals","text":"updated mammalian checklist Pacheco et al. (2021) compiles: 573 species, 223 genera, 51 families, 13 orders 87 endemic species (15.2% total) Presence across 9 ecoregions, coastal deserts Amazonian rainforests Continuous updates reflecting recent systematic revisions package adopts taxonomic framework includes tools validating species names handling synonyms misspelled entries via fuzzy matching.","code":""},{"path":"https://paulesantos.github.io/perumammals/articles/vignette.html","id":"loading-the-dataset","dir":"Articles","previous_headings":"","what":"Loading the Dataset","title":"Exploring Mammal Diversity in Peru with perumammals","text":"","code":"data(\"peru_mammals\")  glimpse(peru_mammals) #> Rows: 573 #> Columns: 12 #> $ pm_id                <chr> \"M0542_EUB\", \"M0543_BAL\", \"M0544_BAL\", \"M0545_BAL… #> $ order                <chr> \"Artiodactyla\", \"Artiodactyla\", \"Artiodactyla\", \"… #> $ family               <chr> \"Balaenidae\", \"Balaenopteridae\", \"Balaenopteridae… #> $ genus                <chr> \"Eubalaena\", \"Balaenoptera\", \"Balaenoptera\", \"Bal… #> $ species              <chr> \"australis\", \"bonaerensis\", \"borealis\", \"edeni\", … #> $ scientific_name      <chr> \"Eubalaena australis\", \"Balaenoptera bonaerensis\"… #> $ scientific_name_full <chr> \"Eubalaena australis (Desmoulins, 1822)\", \"Balaen… #> $ author               <chr> \"(Desmoulins, 1822)\", \"Burmeister, 1867\", \"Lesson… #> $ common_name          <chr> \"Ballena franca del sur\", \"Ballena minke austral\"… #> $ endemic              <lgl> FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, … #> $ ecoregions           <chr> \"OCE\", \"OCE\", \"OCE\", \"OCE\", \"OCE\", \"OCE\", \"OCE\", … #> $ reference            <chr> \"Reyes 2009\", \"Reyes 2009\", \"Jefferson et al. 199…"},{"path":[]},{"path":"https://paulesantos.github.io/perumammals/articles/vignette.html","id":"orders-and-species-richness","dir":"Articles","previous_headings":"Taxonomic Diversity","what":"Orders and Species Richness","title":"Exploring Mammal Diversity in Peru with perumammals","text":"Rodentia (194 species) Chiroptera (189 species) together account nearly 67% Peru’s mammalian diversity.","code":"order_summary <- pm_list_orders() |>    dplyr::arrange(dplyr::desc(n_species)) |>    dplyr::mutate(percentage = round(n_species / sum(n_species) * 100, 1))  order_summary #> # A tibble: 13 × 6 #>    order            n_families n_genera n_species n_endemic percentage #>    <chr>                 <int>    <int>     <int>     <int>      <dbl> #>  1 Rodentia                 11       67       194        56       33.9 #>  2 Chiroptera                8       64       189         9       33   #>  3 Didelphimorphia           1       15        47        10        8.2 #>  4 Artiodactyla             10       31        46         0        8   #>  5 Primates                  3       12        42         9        7.3 #>  6 Carnivora                 7       20        33         0        5.8 #>  7 Pilosa                    4        5         7         0        1.2 #>  8 Cingulata                 2        3         5         1        0.9 #>  9 Eulipotyphla              1        1         3         2        0.5 #> 10 Lagomorpha                1        1         2         0        0.3 #> 11 Paucituberculata          1        2         2         0        0.3 #> 12 Perissodactyla            1        1         2         0        0.3 #> 13 Sirenia                   1        1         1         0        0.2  ggplot(order_summary,         aes(x = reorder(order, n_species),            y = n_species)) +   geom_col(fill = \"steelblue\") +   geom_text(aes(label = n_species),             hjust = -0.2, size = 3) +   coord_flip() +   labs(     title = \"Mammalian Diversity in Peru by Order\",     subtitle = \"Based on Pacheco et al. (2021)\",     x = \"Order\",     y = \"Number of Species\"   ) +   theme_minimal()"},{"path":"https://paulesantos.github.io/perumammals/articles/vignette.html","id":"endemic-species","dir":"Articles","previous_headings":"","what":"Endemic Species","title":"Exploring Mammal Diversity in Peru with perumammals","text":"Rodentia contains largest number endemic species (56), representing 64.4% mammalian endemics Peru.","code":"pm_list_endemic(include_rate = TRUE) #> # A tibble: 14 × 7 #>    order        n_families n_genera n_endemic n_species endemic_rate endemic_pct #>    <chr>             <int>    <int>     <int>     <int>        <dbl>       <dbl> #>  1 Rodentia             11       67        56       194       0.289         28.9 #>  2 Chiroptera            8       64         9       189       0.0476         4.8 #>  3 Didelphimor…          1       15        10        47       0.213         21.3 #>  4 Artiodactyla         10       31         0        46       0              0   #>  5 Primates              3       12         9        42       0.214         21.4 #>  6 Carnivora             7       20         0        33       0              0   #>  7 Pilosa                4        5         0         7       0              0   #>  8 Cingulata             2        3         1         5       0.2           20   #>  9 Eulipotyphla          1        1         2         3       0.667         66.7 #> 10 Lagomorpha            1        1         0         2       0              0   #> 11 Paucituberc…          1        2         0         2       0              0   #> 12 Perissodact…          1        1         0         2       0              0   #> 13 Sirenia               1        1         0         1       0              0   #> 14 Total                16       43        87       573       0.152         15.2"},{"path":[]},{"path":"https://paulesantos.github.io/perumammals/articles/vignette.html","id":"ecoregional-diversity","dir":"Articles","previous_headings":"Geographic Distribution","what":"Ecoregional Diversity","title":"Exploring Mammal Diversity in Peru with perumammals","text":"Selva Baja contains highest species richness, Yungas harbor greatest number endemic mammals.","code":"ecoregion_diversity <- pm_list_ecoregions(include_endemic = TRUE) #> ── Peruvian Mammal Ecoregions (Brack-Egg, 1986) ──────────────────────────────── #> ℹ Number of ecoregions: 10 #> ℹ Total mammal species in Peru: 573 #>  #> Ecoregions by species richness: #>  #> SB - Selva Baja: 320 species (55.8%), 18 endemic (5.6%) #> YUN - Yungas: 256 species (44.7%), 48 endemic (18.8%) #> SP - Sabana de Palmera: 83 species (14.5%), 0 endemic (0%) #> BSE - Bosque Seco Ecuatorial: 81 species (14.1%), 4 endemic (4.9%) #> VOC - Vertiente Occidental: 72 species (12.6%), 15 endemic (20.8%) #> PUN - Puna: 71 species (12.4%), 14 endemic (19.7%) #> BPP - Bosque Pluvial del Pacífico: 69 species (12%), 0 endemic (0%) #> COS - Costa: 66 species (11.5%), 16 endemic (24.2%) #> OCE - Oceánica: 30 species (5.2%), 0 endemic (0%) #> PAR - Páramo: 26 species (4.5%), 4 endemic (15.4%) #>  #> Use pm_by_ecoregion() to filter species by ecoregion #> ──────────────────────────────────────────────────────────────────────────────── ecoregion_diversity #> # A tibble: 10 × 6 #>    ecoregion_code ecoregion_label    n_species n_endemic pct_species pct_endemic #>    <chr>          <chr>                  <int>     <int>       <dbl>       <dbl> #>  1 SB             Selva Baja               320        18        55.8         5.6 #>  2 YUN            Yungas                   256        48        44.7        18.8 #>  3 SP             Sabana de Palmera         83         0        14.5         0   #>  4 BSE            Bosque Seco Ecuat…        81         4        14.1         4.9 #>  5 VOC            Vertiente Occiden…        72        15        12.6        20.8 #>  6 PUN            Puna                      71        14        12.4        19.7 #>  7 BPP            Bosque Pluvial de…        69         0        12           0   #>  8 COS            Costa                     66        16        11.5        24.2 #>  9 OCE            Oceánica                  30         0         5.2         0   #> 10 PAR            Páramo                    26         4         4.5        15.4  library(ggtext)  waffle_data <- ecoregion_diversity |>    dplyr::select(ecoregion_label, pct_endemic) |>    dplyr::mutate(     Endemic = round(pct_endemic),     Common = 100 - Endemic   ) |>    tidyr::pivot_longer(     cols = c(\"Endemic\", \"Common\"),     names_to = \"type\",     values_to = \"percentage\"   ) |>    dplyr::group_by(ecoregion_label) |>    dplyr::mutate(     total_pct = paste0(round(pct_endemic, 1), \"% endemic\"),     ecoregion_full = paste0(ecoregion_label, \"\\n\", total_pct)   ) |>    dplyr::ungroup()  ggplot(waffle_data, aes(fill = type, values = percentage)) +   geom_waffle(     n_rows = 10,     size = 0.4,     colour = \"white\",     flip = TRUE,     radius = unit(2, \"pt\")   ) +   facet_wrap(~ecoregion_full, ncol = 2) +   scale_fill_manual(     name = NULL,     values = c(\"Common\" = \"#CBD5E1\", \"Endemic\" = \"#E07A5F\"),     labels = c(\"Common species\", \"Endemic species\")   ) +   coord_equal() +   labs(     title = \"Mammal Endemism by Ecoregion in Peru\",     subtitle = \"Each square represents 1% of species. The percentage indicates the proportion of endemic species\"   ) +   theme_void() +   theme(     plot.title = element_text(       face = \"bold\",        size = 16,        hjust = 0.5,        margin = margin(b = 5)     ),     plot.subtitle = element_text(       hjust = 0.5,        size = 10,        color = \"gray30\",        margin = margin(b = 20)     ),     legend.position = \"bottom\",     legend.text = element_text(size = 10),     legend.key.size = unit(0.7, \"cm\"),     legend.margin = margin(t = 15),     strip.text = element_text(       size = 9,       face = \"bold\",        lineheight = 1.1,       margin = margin(t = 2, b = 2)  # Márgenes MÍNIMOS     ),     plot.background = element_rect(fill = \"white\", color = NA),     panel.spacing.x = unit(1.5, \"lines\"),     panel.spacing.y = unit(1, \"lines\"),  # Reducir espacio vertical     plot.margin = margin(15, 15, 15, 15)   )"},{"path":"https://paulesantos.github.io/perumammals/articles/vignette.html","id":"name-validation-and-fuzzy-matching","dir":"Articles","previous_headings":"","what":"Name Validation and Fuzzy Matching","title":"Exploring Mammal Diversity in Peru with perumammals","text":"fuzzy matching tool corrects common misspellings returns standardized scientific names preserving original input.","code":"species_list <- c(   \"Tremarctos ornatos\",   \"Leopardus pardalis\",   \"Odocoileus virginanus\",   \"Lagothrix flavicauda\",   \"Alouatta seniculus\",   \"Puma concolor\" )  validated <- validate_peru_mammals(   species_list,   quiet = TRUE )  validated %>%   select(Orig.Name, Matched.Name, Match.Level, valid_rank) #>               Orig.Name         Matched.Name            Match.Level valid_rank #> 1    Tremarctos ornatos   Tremarctos ornatus             Exact rank       TRUE #> 2    Leopardus pardalis   Leopardus pardalis             Exact rank       TRUE #> 3 Odocoileus virginanus           Odocoileus Matched at higher rank      FALSE #> 4  Lagothrix flavicauda Lagothrix flavicauda             Exact rank       TRUE #> 5    Alouatta seniculus   Alouatta seniculus             Exact rank       TRUE #> 6         Puma concolor        Puma concolor             Exact rank       TRUE"},{"path":[]},{"path":"https://paulesantos.github.io/perumammals/articles/vignette.html","id":"conservation-assessment","dir":"Articles","previous_headings":"Practical Applications","what":"Conservation Assessment","title":"Exploring Mammal Diversity in Peru with perumammals","text":"","code":"endemic_primates <- peru_mammals %>%   filter(order == \"Primates\", endemic == TRUE) %>%   select(genus, species, common_name)  endemic_primates #> # A tibble: 9 × 3 #>   genus      species       common_name                                 #>   <chr>      <chr>         <chr>                                       #> 1 Lagothrix  flavicauda    Mono choro de cola amarilla                 #> 2 Aotus      miconax       Mono nocturno peruano, mono nocturno andino #> 3 Saguinus   illigeri      Pichico pardo de Illiger                    #> 4 Saguinus   leucogenys    Pichico andino                              #> 5 Saguinus   nigrifrons    Pichico de frente negra                     #> 6 Callicebus oenanthe      Tocón del río Mayo                          #> 7 Callicebus urubambensis  Tocón del Urubamba                          #> 8 Pithecia   aequatorialis Huapo ecuatorial                            #> 9 Pithecia   isabela       Huapo de Isabel"},{"path":"https://paulesantos.github.io/perumammals/articles/vignette.html","id":"research-data-cleaning","dir":"Articles","previous_headings":"Practical Applications","what":"Research Data Cleaning","title":"Exploring Mammal Diversity in Peru with perumammals","text":"","code":"field_data <- data.frame(   site = rep(c(\"Site_A\", \"Site_B\", \"Site_C\"), each = 3),   species = c(     \"Tremarctos ornatos\", \"Mazama rufina\", \"Odocoileus virginianus\",     \"Leopardus pardalis\", \"Puma concolor\", \"Leopardus jacobita\",     \"Lagothrix flavicauda\", \"Ateles belzebuth\", \"Alouatta seniculus\"   ),   count = c(2, 1, 3, 1, 2, 1, 5, 3, 2) )  cleaned_data <- field_data %>%   left_join(     validate_peru_mammals(field_data$species),     by = c(\"species\" = \"Orig.Name\")   ) %>%   select(site, original = species, validated = Matched.Name, count, Match.Level)  cleaned_data #>     site               original            validated count #> 1 Site_A     Tremarctos ornatos   Tremarctos ornatus     2 #> 2 Site_A          Mazama rufina        Mazama rufina     1 #> 3 Site_A Odocoileus virginianus           Odocoileus     3 #> 4 Site_B     Leopardus pardalis   Leopardus pardalis     1 #> 5 Site_B          Puma concolor        Puma concolor     2 #> 6 Site_B     Leopardus jacobita   Leopardus jacobita     1 #> 7 Site_C   Lagothrix flavicauda Lagothrix flavicauda     5 #> 8 Site_C       Ateles belzebuth     Ateles belzebuth     3 #> 9 Site_C     Alouatta seniculus   Alouatta seniculus     2 #>              Match.Level #> 1             Exact rank #> 2             Exact rank #> 3 Matched at higher rank #> 4             Exact rank #> 5             Exact rank #> 6             Exact rank #> 7             Exact rank #> 8             Exact rank #> 9             Exact rank"},{"path":"https://paulesantos.github.io/perumammals/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Paul E. Santos Andrade. Author, maintainer. Fiorella N. Gonzales Guillen. Contributor.","code":""},{"path":"https://paulesantos.github.io/perumammals/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Santos Andrade, P. E., & Gonzales Guillen, F. N. (2025). perumammals: Taxonomic Backbone Name Validation Tools Mammals Peru. R package version 0.0.0.1. https://paulesantos.github.io/perumammals/ Pacheco, V., Cadenillas, R., Zeballos, H., Hurtado, C. M., Ruelas, D., & Pari, . (2021). Lista actualizada de la diversidad de los mamíferos del Perú y una propuesta para su actualización. Revista Peruana de Biología, 28(special issue), e21019. https://doi.org/10.15381/rpb.v28i4.21019","code":"@Manual{,   title = {perumammals: Taxonomic Backbone and Name Validation Tools for Mammals of Peru},   author = {Paul E. {Santos Andrade} and Fiorella Nasha {Gonzales Guillen}},   year = {2025},   note = {R package version 0.0.0.1},   url = {https://paulesantos.github.io/perumammals/}, } @Article{,   title = {Lista actualizada de la diversidad de los mamíferos del Perú y una propuesta para su actualización},   author = {Víctor Pacheco and Renzo Cadenillas and Horacio Zeballos and Críspulo M. Hurtado and Dennisse Ruelas and Alexander Pari},   journal = {Revista Peruana de Biología},   year = {2021},   volume = {28},   number = {special issue},   pages = {e21019},   doi = {10.15381/rpb.v28i4.21019}, }"},{"path":[]},{"path":"https://paulesantos.github.io/perumammals/CODE_OF_CONDUCT.html","id":"our-pledge","dir":"","previous_headings":"","what":"Our Pledge","title":"Contributor Covenant Code of Conduct","text":"members, contributors, leaders pledge make participation community harassment-free experience everyone, regardless age, body size, visible invisible disability, ethnicity, sex characteristics, gender identity expression, level experience, education, socio-economic status, nationality, personal appearance, race, caste, color, religion, sexual identity orientation. pledge act interact ways contribute open, welcoming, diverse, inclusive, healthy community.","code":""},{"path":"https://paulesantos.github.io/perumammals/CODE_OF_CONDUCT.html","id":"our-standards","dir":"","previous_headings":"","what":"Our Standards","title":"Contributor Covenant Code of Conduct","text":"Examples behavior contributes positive environment community include: Demonstrating empathy kindness toward people respectful differing opinions, viewpoints, experiences Giving gracefully accepting constructive feedback Accepting responsibility apologizing affected mistakes, learning experience Focusing best just us individuals, overall community Examples unacceptable behavior include: use sexualized language imagery, sexual attention advances kind Trolling, insulting derogatory comments, personal political attacks Public private harassment Publishing others’ private information, physical email address, without explicit permission conduct reasonably considered inappropriate professional setting","code":""},{"path":"https://paulesantos.github.io/perumammals/CODE_OF_CONDUCT.html","id":"enforcement-responsibilities","dir":"","previous_headings":"","what":"Enforcement Responsibilities","title":"Contributor Covenant Code of Conduct","text":"Community leaders responsible clarifying enforcing standards acceptable behavior take appropriate fair corrective action response behavior deem inappropriate, threatening, offensive, harmful. Community leaders right responsibility remove, edit, reject comments, commits, code, wiki edits, issues, contributions aligned Code Conduct, communicate reasons moderation decisions appropriate.","code":""},{"path":"https://paulesantos.github.io/perumammals/CODE_OF_CONDUCT.html","id":"scope","dir":"","previous_headings":"","what":"Scope","title":"Contributor Covenant Code of Conduct","text":"Code Conduct applies within community spaces, also applies individual officially representing community public spaces. Examples representing community include using official e-mail address, posting via official social media account, acting appointed representative online offline event.","code":""},{"path":"https://paulesantos.github.io/perumammals/CODE_OF_CONDUCT.html","id":"enforcement","dir":"","previous_headings":"","what":"Enforcement","title":"Contributor Covenant Code of Conduct","text":"Instances abusive, harassing, otherwise unacceptable behavior may reported community leaders responsible enforcement codeofconduct@posit.co. complaints reviewed investigated promptly fairly. community leaders obligated respect privacy security reporter incident.","code":""},{"path":"https://paulesantos.github.io/perumammals/CODE_OF_CONDUCT.html","id":"enforcement-guidelines","dir":"","previous_headings":"","what":"Enforcement Guidelines","title":"Contributor Covenant Code of Conduct","text":"Community leaders follow Community Impact Guidelines determining consequences action deem violation Code Conduct:","code":""},{"path":"https://paulesantos.github.io/perumammals/CODE_OF_CONDUCT.html","id":"id_1-correction","dir":"","previous_headings":"Enforcement Guidelines","what":"1. Correction","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Use inappropriate language behavior deemed unprofessional unwelcome community. Consequence: private, written warning community leaders, providing clarity around nature violation explanation behavior inappropriate. public apology may requested.","code":""},{"path":"https://paulesantos.github.io/perumammals/CODE_OF_CONDUCT.html","id":"id_2-warning","dir":"","previous_headings":"Enforcement Guidelines","what":"2. Warning","title":"Contributor Covenant Code of Conduct","text":"Community Impact: violation single incident series actions. Consequence: warning consequences continued behavior. interaction people involved, including unsolicited interaction enforcing Code Conduct, specified period time. includes avoiding interactions community spaces well external channels like social media. Violating terms may lead temporary permanent ban.","code":""},{"path":"https://paulesantos.github.io/perumammals/CODE_OF_CONDUCT.html","id":"id_3-temporary-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"3. Temporary Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: serious violation community standards, including sustained inappropriate behavior. Consequence: temporary ban sort interaction public communication community specified period time. public private interaction people involved, including unsolicited interaction enforcing Code Conduct, allowed period. Violating terms may lead permanent ban.","code":""},{"path":"https://paulesantos.github.io/perumammals/CODE_OF_CONDUCT.html","id":"id_4-permanent-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"4. Permanent Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Demonstrating pattern violation community standards, including sustained inappropriate behavior, harassment individual, aggression toward disparagement classes individuals. Consequence: permanent ban sort public interaction within community.","code":""},{"path":"https://paulesantos.github.io/perumammals/CODE_OF_CONDUCT.html","id":"attribution","dir":"","previous_headings":"","what":"Attribution","title":"Contributor Covenant Code of Conduct","text":"Code Conduct adapted Contributor Covenant, version 2.1, available https://www.contributor-covenant.org/version/2/1/code_of_conduct.html. Community Impact Guidelines inspired [Mozilla’s code conduct enforcement ladder][https://github.com/mozilla/inclusion]. answers common questions code conduct, see FAQ https://www.contributor-covenant.org/faq. Translations available https://www.contributor-covenant.org/translations.","code":""},{"path":"https://paulesantos.github.io/perumammals/CONTRIBUTING.html","id":null,"dir":"","previous_headings":"","what":"Contributing to perumammals","title":"Contributing to perumammals","text":"outlines propose change perumammals. detailed discussion contributing tidyverse packages, please see development contributing guide code review principles.","code":""},{"path":"https://paulesantos.github.io/perumammals/CONTRIBUTING.html","id":"fixing-typos","dir":"","previous_headings":"","what":"Fixing typos","title":"Contributing to perumammals","text":"can fix typos, spelling mistakes, grammatical errors documentation directly using GitHub web interface, long changes made source file. generally means ’ll need edit roxygen2 comments .R, .Rd file. can find .R file generates .Rd reading comment first line.","code":""},{"path":"https://paulesantos.github.io/perumammals/CONTRIBUTING.html","id":"bigger-changes","dir":"","previous_headings":"","what":"Bigger changes","title":"Contributing to perumammals","text":"want make bigger change, ’s good idea first file issue make sure someone team agrees ’s needed. ’ve found bug, please file issue illustrates bug minimal reprex (also help write unit test, needed). See guide create great issue advice.","code":""},{"path":"https://paulesantos.github.io/perumammals/CONTRIBUTING.html","id":"pull-request-process","dir":"","previous_headings":"Bigger changes","what":"Pull request process","title":"Contributing to perumammals","text":"Fork package clone onto computer. haven’t done , recommend using usethis::create_from_github(\"PaulESantos/perumammals\", fork = TRUE). Install development dependencies devtools::install_dev_deps(), make sure package passes R CMD check running devtools::check(). R CMD check doesn’t pass cleanly, ’s good idea ask help continuing. Create Git branch pull request (PR). recommend using usethis::pr_init(\"brief-description--change\"). Make changes, commit git, create PR running usethis::pr_push(), following prompts browser. title PR briefly describe change. body PR contain Fixes #issue-number. user-facing changes, add bullet top NEWS.md (.e. just first header). Follow style described https://style.tidyverse.org/news.html.","code":""},{"path":"https://paulesantos.github.io/perumammals/CONTRIBUTING.html","id":"code-style","dir":"","previous_headings":"Bigger changes","what":"Code style","title":"Contributing to perumammals","text":"New code follow tidyverse style guide. can use Air apply style, please don’t restyle code nothing PR. use roxygen2, Markdown syntax, documentation. use testthat unit tests. Contributions test cases included easier accept.","code":""},{"path":"https://paulesantos.github.io/perumammals/CONTRIBUTING.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of Conduct","title":"Contributing to perumammals","text":"Please note perumammals project released Contributor Code Conduct. contributing project agree abide terms.","code":""},{"path":"https://paulesantos.github.io/perumammals/index.html","id":"perumammals-","dir":"","previous_headings":"","what":"perumammals R data package","title":"perumammals R data package","text":"Taxonomic backbone name validation tools mammals Peru.","code":""},{"path":"https://paulesantos.github.io/perumammals/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"perumammals R data package","text":"perumammals provides curated, standardized programmatically accessible version mammal diversity Peru compiled Pacheco et al. (2021): “Lista actualizada de la diversidad de los mamíferos del Perú y una propuesta para su actualización”. publication represents --date comprehensive synthesis Peruvian mammal diversity, integrating taxonomic revisions, biogeographic information, distributional updates evaluation endemic taxa. package includes: backbone dataset 573 mammal species known Peru (terrestrial, arboreal, aquatic marine). Taxonomic structure (Order, Family, Genus, Species, authorship). Endemism information. Ecoregional occurrence, following scheme used Pacheco et al. (2021). References taxonomic notes listed source document. Data structures ready name validation, biodiversity assessments, environmental studies, species filtering, ecoregional analyses. goal package replace authoritative taxonomic databases, provide stable, Peruvian-focused backbone set reproducible tools can used ecological, environmental, biogeographic conservation workflows.","code":""},{"path":"https://paulesantos.github.io/perumammals/index.html","id":"context-from-pacheco-et-al-2021","dir":"","previous_headings":"","what":"Context from Pacheco et al. (2021)","title":"perumammals R data package","text":"backbone included perumammals derived directly annex Pacheco et al. (2021), synthesized decades Peruvian mammalogy work. list highly relevant incorporates recent taxonomic updates November 2021, including description species new science (e.g., Thomasomys antoniobracki, Oligoryzomys guille), first Peruvian records bats (Eumops bonariensis), species re-validations (e.g., Neacomys carceleni), ensuring users work current classification.","code":""},{"path":"https://paulesantos.github.io/perumammals/index.html","id":"mammalian-diversity","dir":"","previous_headings":"Context from Pacheco et al. (2021)","what":"Mammalian Diversity","title":"perumammals R data package","text":"573 species documented Peru. Representing 223 genera, 51 families, 13 orders. Includes terrestrial marine mammals. Peru ranks among mammal-diverse countries worldwide.","code":""},{"path":"https://paulesantos.github.io/perumammals/index.html","id":"endemism","dir":"","previous_headings":"Context from Pacheco et al. (2021)","what":"Endemism","title":"perumammals R data package","text":"87 species recognized endemic Peru, emphasizing country’s importance global mammalian conservation.","code":""},{"path":"https://paulesantos.github.io/perumammals/index.html","id":"biogeographic-ecoregions","dir":"","previous_headings":"Context from Pacheco et al. (2021)","what":"Biogeographic Ecoregions","title":"perumammals R data package","text":"article assigns species one Peruvian ecoregions using classification widely used biogeography conservation planning: codes incorporated package : part main species table, dedicated long-format table analytical workflows.","code":"#> ── Peruvian Mammal Ecoregions (Brack-Egg, 1986) ───────────────────────────────────────────────────────────────────── #> ℹ Number of ecoregions: 10 #> ℹ Total mammal species in Peru: 573 #>  #> Ecoregions by species richness: #>  #> SB - Selva Baja: 320 species (55.8%) #> YUN - Yungas: 256 species (44.7%) #> SP - Sabana de Palmera: 83 species (14.5%) #> BSE - Bosque Seco Ecuatorial: 81 species (14.1%) #> VOC - Vertiente Occidental: 72 species (12.6%) #> PUN - Puna: 71 species (12.4%) #> BPP - Bosque Pluvial del Pacífico: 69 species (12%) #> COS - Costa: 66 species (11.5%) #> OCE - Oceánica: 30 species (5.2%) #> PAR - Páramo: 26 species (4.5%) #>  #> Use pm_by_ecoregion() to filter species by ecoregion #> Use include_endemic = TRUE to see endemic species counts #> ─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────"},{"path":"https://paulesantos.github.io/perumammals/index.html","id":"taxonomic-notes-and-updates","dir":"","previous_headings":"Context from Pacheco et al. (2021)","what":"Taxonomic Notes and Updates","title":"perumammals R data package","text":"Pacheco et al. (2021) incorporate: New species records recent taxonomic revisions. Updates resulting molecular phylogenetics integrative taxonomy. Clarifications regarding problematic doubtful taxa. Contextual notes species uncertain distributions.","code":""},{"path":"https://paulesantos.github.io/perumammals/index.html","id":"what-the-package-provides","dir":"","previous_headings":"","what":"What the Package Provides","title":"perumammals R data package","text":"Although perumammals contains functions name validation exploration. package includes four main datasets:","code":""},{"path":"https://paulesantos.github.io/perumammals/index.html","id":"id_1-peru_mammals","dir":"","previous_headings":"What the Package Provides","what":"1. peru_mammals","title":"perumammals R data package","text":"species-level backbone : Taxonomy (Order, Family, Genus, Species). Authorship information. Common names available. Endemic status. Ecoregion assignments. Bibliographic notes.","code":""},{"path":"https://paulesantos.github.io/perumammals/index.html","id":"id_2-peru_mammals_ecoregions","dir":"","previous_headings":"What the Package Provides","what":"2. peru_mammals_ecoregions","title":"perumammals R data package","text":"long-format dataset listing species–ecoregion pairs, ideal : diversity summaries, mapping, ecoregional filters, conservation prioritization.","code":""},{"path":"https://paulesantos.github.io/perumammals/index.html","id":"id_3-peru_mammals_ecoregions_meta","dir":"","previous_headings":"What the Package Provides","what":"3. peru_mammals_ecoregions_meta","title":"perumammals R data package","text":"Metadata describing ecoregion codes used across package.","code":""},{"path":"https://paulesantos.github.io/perumammals/index.html","id":"id_4-peru_mammals_backbone","dir":"","previous_headings":"What the Package Provides","what":"4. peru_mammals_backbone","title":"perumammals R data package","text":"Metadata describing: source (Pacheco et al. 2021), year publication, number species, date dataset creation package build. datasets make perumammals lightweight powerful reference workflow requiring curated Peruvian-focused mammal information.","code":""},{"path":[]},{"path":"https://paulesantos.github.io/perumammals/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"perumammals R data package","text":"","code":"# Development version from GitHub # Using pak (recommended) pak::pak(\"PaulESantos/perumammals\")  # Or using remotes remotes::install_github(\"PaulESantos/perumammals\")"},{"path":"https://paulesantos.github.io/perumammals/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"perumammals R data package","text":"use package, please cite: package:","code":"citation(\"perumammals\") #> To cite perumammals in publications, please use: #>  #>   Santos Andrade, P. E., & Gonzales Guillen, F. N. (2025). perumammals: Taxonomic Backbone and Name #>   Validation Tools for Mammals of Peru. R package version 0.0.0.1. #>   https://paulesantos.github.io/perumammals/ #>  #> The taxonomic backbone included in this package is based on: #>  #> Pacheco, V., Cadenillas, R., Zeballos, H., Hurtado, C. M., Ruelas, D., & Pari, A. (2021). Lista #> actualizada de la diversidad de los mamíferos del Perú y una propuesta para su actualización. Revista #> Peruana de Biología, 28(special issue), e21019. https://doi.org/10.15381/rpb.v28i4.21019 #>  #> To see these entries in BibTeX format, use 'print(<citation>, bibtex=TRUE)', 'toBibtex(.)', or set #> 'options(citation.bibtex.max=999)'."},{"path":"https://paulesantos.github.io/perumammals/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 perumammals authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/check_backbone_update.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if taxonomic backbone needs updating — check_backbone_update","title":"Check if taxonomic backbone needs updating — check_backbone_update","text":"Checks whether newer version Pacheco et al. mammal checklist might available based publication year.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/check_backbone_update.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if taxonomic backbone needs updating — check_backbone_update","text":"","code":"check_backbone_update(backbone_year)"},{"path":"https://paulesantos.github.io/perumammals/reference/check_backbone_update.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if taxonomic backbone needs updating — check_backbone_update","text":"backbone_year Numeric character year current backbone.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/check_backbone_update.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if taxonomic backbone needs updating — check_backbone_update","text":"list components: update_available – logical indicating update may available. message – character string information message.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/direct_match.html","id":null,"dir":"Reference","previous_headings":"","what":"Direct Match Species Names Against Peru Mammals Database — direct_match","title":"Direct Match Species Names Against Peru Mammals Database — direct_match","text":"Performs direct matching species names peru_mammals database. Matches binomial names (genus + species) handles special \"sp.\" cases (e.g., \"Akodon sp. Ancash\"). Peru mammals database include infraspecific taxa.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/direct_match.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Direct Match Species Names Against Peru Mammals Database — direct_match","text":"","code":"direct_match(df, target_df = NULL)"},{"path":"https://paulesantos.github.io/perumammals/reference/direct_match.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Direct Match Species Names Against Peru Mammals Database — direct_match","text":"df data frame tibble containing species data matched. Must include columns: Orig.Genus, Orig.Species, Rank target_df data frame representing peru_mammals database. Must include columns: genus, species","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/direct_match.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Direct Match Species Names Against Peru Mammals Database — direct_match","text":"tibble additional logical column direct_match indicating whether name successfully matched (TRUE) (FALSE), plus columns Matched.Genus Matched.Species matched records.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/direct_match.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Direct Match Species Names Against Peru Mammals Database — direct_match","text":"function matches Rank 2 (binomial) names since peru_mammals include infraspecific taxa. handles: Regular binomials: \"Panthera onca\" Special \"sp.\" cases: \"Akodon sp. Ancash\", \"Oligoryzomys sp. B\" Names Rank 1 (genus ) matched function; use genus_match() instead.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-attach_metadata_peru.html","id":null,"dir":"Reference","previous_headings":"","what":"Attach Metadata to Results — .attach_metadata_peru","title":"Attach Metadata to Results — .attach_metadata_peru","text":"Attach Metadata Results","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-attach_metadata_peru.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Attach Metadata to Results — .attach_metadata_peru","text":"","code":".attach_metadata_peru(tbl, n_input, n_matched, n_fuzzy_genus, n_fuzzy_species)"},{"path":"https://paulesantos.github.io/perumammals/reference/dot-check_binomial.html","id":null,"dir":"Reference","previous_headings":"","what":"Check for binomial names in species list — .check_binomial","title":"Check for binomial names in species list — .check_binomial","text":"Internal function verify species names binomial level (genus + species) identify names genus level NA values. Peru mammals database contains binomial names (including \"sp.\" cases).","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-check_binomial.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check for binomial names in species list — .check_binomial","text":"","code":".check_binomial(splist_class, splist)"},{"path":"https://paulesantos.github.io/perumammals/reference/dot-check_binomial.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check for binomial names in species list — .check_binomial","text":"splist_class Classified species matrix .splist_classify splist Original species list (character vector)","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-check_binomial.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check for binomial names in species list — .check_binomial","text":"Integer vector positions problematic names","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-classify_algo.html","id":null,"dir":"Reference","previous_headings":"","what":"Classification algorithm for a single name — .classify_algo","title":"Classification algorithm for a single name — .classify_algo","text":"Internal algorithm parse single species name components. Handles regular binomials special cases like \"Genus sp. identifier\" (e.g., \"Akodon sp. Ancash\").","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-classify_algo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Classification algorithm for a single name — .classify_algo","text":"","code":".classify_algo(x_split_i)"},{"path":"https://paulesantos.github.io/perumammals/reference/dot-classify_algo.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Classification algorithm for a single name — .classify_algo","text":"x_split_i Character vector split name parts","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-classify_algo.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Classification algorithm for a single name — .classify_algo","text":"Character vector classified components (genus, species, author)","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-classify_inputs_peru.html","id":null,"dir":"Reference","previous_headings":"","what":"Classify Input Species Names — .classify_inputs_peru","title":"Classify Input Species Names — .classify_inputs_peru","text":"Classify Input Species Names","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-classify_inputs_peru.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Classify Input Species Names — .classify_inputs_peru","text":"","code":".classify_inputs_peru(splist)"},{"path":"https://paulesantos.github.io/perumammals/reference/dot-combine_matched_nodes_peru.html","id":null,"dir":"Reference","previous_headings":"","what":"Combine Matched Nodes — .combine_matched_nodes_peru","title":"Combine Matched Nodes — .combine_matched_nodes_peru","text":"Combine Matched Nodes","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-combine_matched_nodes_peru.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Combine Matched Nodes — .combine_matched_nodes_peru","text":"","code":".combine_matched_nodes_peru(pipe)"},{"path":"https://paulesantos.github.io/perumammals/reference/dot-combine_unmatched_nodes_peru.html","id":null,"dir":"Reference","previous_headings":"","what":"Combine Unmatched Nodes — .combine_unmatched_nodes_peru","title":"Combine Unmatched Nodes — .combine_unmatched_nodes_peru","text":"Combine Unmatched Nodes","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-combine_unmatched_nodes_peru.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Combine Unmatched Nodes — .combine_unmatched_nodes_peru","text":"","code":".combine_unmatched_nodes_peru(pipe, invalid_df)"},{"path":"https://paulesantos.github.io/perumammals/reference/dot-compute_matched_rank_peru.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute Matched Rank for Peru Mammals — .compute_matched_rank_peru","title":"Compute Matched Rank for Peru Mammals — .compute_matched_rank_peru","text":"Compute Matched Rank Peru Mammals","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-compute_matched_rank_peru.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute Matched Rank for Peru Mammals — .compute_matched_rank_peru","text":"","code":".compute_matched_rank_peru(df)"},{"path":"https://paulesantos.github.io/perumammals/reference/dot-consolidate_ambiguous_attrs_peru.html","id":null,"dir":"Reference","previous_headings":"","what":"Consolidate Ambiguous Match Attributes — .consolidate_ambiguous_attrs_peru","title":"Consolidate Ambiguous Match Attributes — .consolidate_ambiguous_attrs_peru","text":"Consolidate Ambiguous Match Attributes","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-consolidate_ambiguous_attrs_peru.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Consolidate Ambiguous Match Attributes — .consolidate_ambiguous_attrs_peru","text":"","code":".consolidate_ambiguous_attrs_peru(output, pipe)"},{"path":"https://paulesantos.github.io/perumammals/reference/dot-detect_trinomial.html","id":null,"dir":"Reference","previous_headings":"","what":"Detect trinomial names (3+ taxonomic elements) — .detect_trinomial","title":"Detect trinomial names (3+ taxonomic elements) — .detect_trinomial","text":"Detect trinomial names (3+ taxonomic elements)","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-detect_trinomial.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Detect trinomial names (3+ taxonomic elements) — .detect_trinomial","text":"","code":".detect_trinomial(orig_names)"},{"path":"https://paulesantos.github.io/perumammals/reference/dot-empty_output_peru.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Empty Output Template — .empty_output_peru","title":"Create Empty Output Template — .empty_output_peru","text":"Create Empty Output Template","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-empty_output_peru.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Empty Output Template — .empty_output_peru","text":"","code":".empty_output_peru(splist_class)"},{"path":"https://paulesantos.github.io/perumammals/reference/dot-finalize_output_peru.html","id":null,"dir":"Reference","previous_headings":"","what":"Finalize Output Format — .finalize_output_peru","title":"Finalize Output Format — .finalize_output_peru","text":"Finalize Output Format","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-finalize_output_peru.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Finalize Output Format — .finalize_output_peru","text":"","code":".finalize_output_peru(df)"},{"path":"https://paulesantos.github.io/perumammals/reference/dot-final_assertions_peru.html","id":null,"dir":"Reference","previous_headings":"","what":"Final Validation of Results — .final_assertions_peru","title":"Final Validation of Results — .final_assertions_peru","text":"Final Validation Results","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-final_assertions_peru.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Final Validation of Results — .final_assertions_peru","text":"","code":".final_assertions_peru(splist_class, output)"},{"path":"https://paulesantos.github.io/perumammals/reference/dot-format_matched_names_peru.html","id":null,"dir":"Reference","previous_headings":"","what":"Format Matched Names for Display — .format_matched_names_peru","title":"Format Matched Names for Display — .format_matched_names_peru","text":"Format Matched Names Display","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-format_matched_names_peru.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Format Matched Names for Display — .format_matched_names_peru","text":"","code":".format_matched_names_peru(df)"},{"path":"https://paulesantos.github.io/perumammals/reference/dot-get_mammals_genus.html","id":null,"dir":"Reference","previous_headings":"","what":"Get mammals species by genus from peru_mammals — .get_mammals_genus","title":"Get mammals species by genus from peru_mammals — .get_mammals_genus","text":"Internal function filter species genus peru_mammals data frame. function memoised performance.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-get_mammals_genus.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get mammals species by genus from peru_mammals — .get_mammals_genus","text":"","code":".get_mammals_genus(genus_sub, target_df = NULL)"},{"path":"https://paulesantos.github.io/perumammals/reference/dot-get_mammals_genus.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get mammals species by genus from peru_mammals — .get_mammals_genus","text":"genus_sub Character vector genus names (case-insensitive) target_df Data frame (peru_mammals) genus species columns","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-get_mammals_genus.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get mammals species by genus from peru_mammals — .get_mammals_genus","text":"Data frame filtered genus","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-init_matching_columns_peru.html","id":null,"dir":"Reference","previous_headings":"","what":"Initialize Matching Columns — .init_matching_columns_peru","title":"Initialize Matching Columns — .init_matching_columns_peru","text":"Initialize Matching Columns","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-init_matching_columns_peru.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Initialize Matching Columns — .init_matching_columns_peru","text":"","code":".init_matching_columns_peru(df)"},{"path":"https://paulesantos.github.io/perumammals/reference/dot-invalidate_trinomials.html","id":null,"dir":"Reference","previous_headings":"","what":"Invalidate trinomial matches in validation results — .invalidate_trinomials","title":"Invalidate trinomial matches in validation results — .invalidate_trinomials","text":"Invalidate trinomial matches validation results","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-invalidate_trinomials.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Invalidate trinomial matches in validation results — .invalidate_trinomials","text":"","code":".invalidate_trinomials(results)"},{"path":"https://paulesantos.github.io/perumammals/reference/dot-join_database_info_peru.html","id":null,"dir":"Reference","previous_headings":"","what":"Join Additional Database Information — .join_database_info_peru","title":"Join Additional Database Information — .join_database_info_peru","text":"Join Additional Database Information","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-join_database_info_peru.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Join Additional Database Information — .join_database_info_peru","text":"","code":".join_database_info_peru(df, target_df)"},{"path":"https://paulesantos.github.io/perumammals/reference/dot-load_target_peru.html","id":null,"dir":"Reference","previous_headings":"","what":"Load Peru Mammals Database — .load_target_peru","title":"Load Peru Mammals Database — .load_target_peru","text":"Load Peru Mammals Database","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-load_target_peru.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load Peru Mammals Database — .load_target_peru","text":"","code":".load_target_peru(quiet)"},{"path":"https://paulesantos.github.io/perumammals/reference/dot-map_dfr_progress.html","id":null,"dir":"Reference","previous_headings":"","what":"Map with optional progress bar — .map_dfr_progress","title":"Map with optional progress bar — .map_dfr_progress","text":"Internal wrapper purrr::map_dfr optional progress tracking. Progress bars shown interactive sessions.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-map_dfr_progress.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Map with optional progress bar — .map_dfr_progress","text":"","code":".map_dfr_progress(.x, .f, ..., .id = NULL, .progress = interactive())"},{"path":"https://paulesantos.github.io/perumammals/reference/dot-map_dfr_progress.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Map with optional progress bar — .map_dfr_progress","text":".x list vector iterate .f function apply ... Additional arguments passed .f .id Column name row identification .progress Logical. Show progress bar? Default interactive()","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-map_dfr_progress.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Map with optional progress bar — .map_dfr_progress","text":"Data frame combined results","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-names_standardize.html","id":null,"dir":"Reference","previous_headings":"","what":"Standardize species names for matching with Peru mammals database — .names_standardize","title":"Standardize species names for matching with Peru mammals database — .names_standardize","text":"Internal function standardize species names matching peru_mammals database. Handles common formatting issues removes hybrid indicators. Note: peru_mammals include infraspecific taxa.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-names_standardize.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Standardize species names for matching with Peru mammals database — .names_standardize","text":"","code":".names_standardize(splist)"},{"path":"https://paulesantos.github.io/perumammals/reference/dot-names_standardize.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Standardize species names for matching with Peru mammals database — .names_standardize","text":"splist Character vector species names standardize","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-names_standardize.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Standardize species names for matching with Peru mammals database — .names_standardize","text":"Character vector standardized names","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-onAttach.html","id":null,"dir":"Reference","previous_headings":"","what":".onAttach hook — .onAttach","title":".onAttach hook — .onAttach","text":"Hook function runs package attached via library(). displays package version information taxonomic backbone.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-onAttach.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":".onAttach hook — .onAttach","text":"","code":".onAttach(libname, pkgname)"},{"path":"https://paulesantos.github.io/perumammals/reference/dot-onAttach.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":".onAttach hook — .onAttach","text":"libname character string indicating path library. pkgname character string name package.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-onLoad.html","id":null,"dir":"Reference","previous_headings":"","what":".onLoad hook — .onLoad","title":".onLoad hook — .onLoad","text":"Hook function runs package loaded. sets default options package.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-onLoad.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":".onLoad hook — .onLoad","text":"","code":".onLoad(libname, pkgname)"},{"path":"https://paulesantos.github.io/perumammals/reference/dot-onLoad.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":".onLoad hook — .onLoad","text":"libname character string name library directory. pkgname character string name package.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-pipeline_nodes_peru.html","id":null,"dir":"Reference","previous_headings":"","what":"Matching Pipeline - Hierarchical Strategy — .pipeline_nodes_peru","title":"Matching Pipeline - Hierarchical Strategy — .pipeline_nodes_peru","text":"Implements hierarchical matching peru_mammals: Node 1: Direct exact match (genus + species) Node 2: Genus exact match Node 3: Genus fuzzy match Node 4: Species fuzzy match within matched genus","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-pipeline_nodes_peru.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Matching Pipeline - Hierarchical Strategy — .pipeline_nodes_peru","text":"","code":".pipeline_nodes_peru(df, target_df, quiet)"},{"path":"https://paulesantos.github.io/perumammals/reference/dot-splist_classify.html","id":null,"dir":"Reference","previous_headings":"","what":"Classify species names into taxonomic components — .splist_classify","title":"Classify species names into taxonomic components — .splist_classify","text":"Internal wrapper function classify multiple species names taxonomic components (genus, species, author). Peru mammals database include infraspecific taxa, function handles \"sp.\" notations undescribed species (e.g., \"Akodon sp. Ancash\").","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-splist_classify.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Classify species names into taxonomic components — .splist_classify","text":"","code":".splist_classify(x)"},{"path":"https://paulesantos.github.io/perumammals/reference/dot-splist_classify.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Classify species names into taxonomic components — .splist_classify","text":"x Character vector species names","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-splist_classify.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Classify species names into taxonomic components — .splist_classify","text":"Matrix classified name components","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-split_valid_invalid_peru.html","id":null,"dir":"Reference","previous_headings":"","what":"Split Valid and Invalid Names — .split_valid_invalid_peru","title":"Split Valid and Invalid Names — .split_valid_invalid_peru","text":"Split Valid Invalid Names","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-split_valid_invalid_peru.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Split Valid and Invalid Names — .split_valid_invalid_peru","text":"","code":".split_valid_invalid_peru(splist_class)"},{"path":"https://paulesantos.github.io/perumammals/reference/dot-str_to_simple_cap.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert to sentence case (first letter uppercase, rest lowercase) — .str_to_simple_cap","title":"Convert to sentence case (first letter uppercase, rest lowercase) — .str_to_simple_cap","text":"Internal utility convert text sentence case matching peru_mammals database format.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-str_to_simple_cap.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert to sentence case (first letter uppercase, rest lowercase) — .str_to_simple_cap","text":"","code":".str_to_simple_cap(text)"},{"path":"https://paulesantos.github.io/perumammals/reference/dot-str_to_simple_cap.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert to sentence case (first letter uppercase, rest lowercase) — .str_to_simple_cap","text":"text Character vector","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-str_to_simple_cap.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert to sentence case (first letter uppercase, rest lowercase) — .str_to_simple_cap","text":"Character vector sentence case","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-transform_split_classify.html","id":null,"dir":"Reference","previous_headings":"","what":"Transform and structure classified names — .transform_split_classify","title":"Transform and structure classified names — .transform_split_classify","text":"Internal function transform classification matrix structured data frame. Simplified peru_mammals binomial names (\"sp.\" cases) without infraspecific categories.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-transform_split_classify.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Transform and structure classified names — .transform_split_classify","text":"","code":".transform_split_classify(df)"},{"path":"https://paulesantos.github.io/perumammals/reference/dot-transform_split_classify.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Transform and structure classified names — .transform_split_classify","text":"df Data frame matrix .splist_classify","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-transform_split_classify.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Transform and structure classified names — .transform_split_classify","text":"Data frame transformed names rank","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-validate_inputs_peru.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate Input Parameters — .validate_inputs_peru","title":"Validate Input Parameters — .validate_inputs_peru","text":"Validate Input Parameters","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-validate_inputs_peru.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate Input Parameters — .validate_inputs_peru","text":"","code":".validate_inputs_peru(splist, quiet)"},{"path":"https://paulesantos.github.io/perumammals/reference/dot-validate_target_schema_peru.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate Target Database Schema — .validate_target_schema_peru","title":"Validate Target Database Schema — .validate_target_schema_peru","text":"Validate Target Database Schema","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/dot-validate_target_schema_peru.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate Target Database Schema — .validate_target_schema_peru","text":"","code":".validate_target_schema_peru(target_df)"},{"path":"https://paulesantos.github.io/perumammals/reference/found_in_peru.html","id":null,"dir":"Reference","previous_headings":"","what":"Quick check: Is species found in Peru? — found_in_peru","title":"Quick check: Is species found in Peru? — found_in_peru","text":"Simplified boolean check species presence Peru mammals database. Useful filtering logical operations.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/found_in_peru.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Quick check: Is species found in Peru? — found_in_peru","text":"","code":"found_in_peru(splist, exact_only = FALSE)"},{"path":"https://paulesantos.github.io/perumammals/reference/found_in_peru.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Quick check: Is species found in Peru? — found_in_peru","text":"splist Character vector species names exact_only Logical. TRUE, exact matches return TRUE (default: FALSE)","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/found_in_peru.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Quick check: Is species found in Peru? — found_in_peru","text":"Logical vector (TRUE = found, FALSE = found)","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/found_in_peru.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Quick check: Is species found in Peru? — found_in_peru","text":"","code":"species <- c(\"Panthera onca\", \"Tremarctos orrnatus\",              \"Tremarctos orrnatos\", \"Felis catus\")  # Check presence (includes fuzzy matches) found_in_peru(species) #> [1]  TRUE  TRUE  TRUE FALSE  tibble::tibble(splist = species) |>  dplyr::mutate(endemic = found_in_peru(splist)) #> # A tibble: 4 × 2 #>   splist              endemic #>   <chr>               <lgl>   #> 1 Panthera onca       TRUE    #> 2 Tremarctos orrnatus TRUE    #> 3 Tremarctos orrnatos TRUE    #> 4 Felis catus         FALSE"},{"path":"https://paulesantos.github.io/perumammals/reference/fuzzy_match_genus.html","id":null,"dir":"Reference","previous_headings":"","what":"Fuzzy Match Genus Name Against Peru Mammals Database — fuzzy_match_genus","title":"Fuzzy Match Genus Name Against Peru Mammals Database — fuzzy_match_genus","text":"Performs fuzzy matching genus names peru_mammals database using string distance (Levenshtein) account slight spelling variations. Maximum distance set 1 character difference. implementation uses two-step approach avoid warnings matches found: Perform stringdist_left_join get candidates Split valid (finite distance) invalid (NA distance) Process valid matches find best candidates","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/fuzzy_match_genus.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fuzzy Match Genus Name Against Peru Mammals Database — fuzzy_match_genus","text":"","code":"fuzzy_match_genus(df, target_df = NULL)"},{"path":"https://paulesantos.github.io/perumammals/reference/fuzzy_match_genus.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fuzzy Match Genus Name Against Peru Mammals Database — fuzzy_match_genus","text":"df data frame containing genus names matched. Must include column: Orig.Genus target_df data frame representing peru_mammals database. Must include column: genus","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/fuzzy_match_genus.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fuzzy Match Genus Name Against Peru Mammals Database — fuzzy_match_genus","text":"tibble two additional columns: fuzzy_match_genus: Logical indicating genus matched fuzzy_genus_dist: Numeric distance match (lower = better) Matched.Genus: matched genus name","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/fuzzy_match_genus.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fuzzy Match Genus Name Against Peru Mammals Database — fuzzy_match_genus","text":"multiple genera match string distance (ambiguous matches), warning issued first match automatically selected. examine ambiguous matches, use get_ambiguous_matches(result, type = \"genus\"). Ambiguous match information stored attribute includes: Original genus matched genera tied distances Family information peru_mammals Number species per genus","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/fuzzy_match_species_within_genus.html","id":null,"dir":"Reference","previous_headings":"","what":"Fuzzy Match Species within Genus in Peru Mammals Database — fuzzy_match_species_within_genus","title":"Fuzzy Match Species within Genus in Peru Mammals Database — fuzzy_match_species_within_genus","text":"Performs fuzzy matching species names within matched genus using string distance account spelling variations. Peru mammals database include infraspecific taxa.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/fuzzy_match_species_within_genus.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fuzzy Match Species within Genus in Peru Mammals Database — fuzzy_match_species_within_genus","text":"","code":"fuzzy_match_species_within_genus(df, target_df = NULL)"},{"path":"https://paulesantos.github.io/perumammals/reference/fuzzy_match_species_within_genus.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fuzzy Match Species within Genus in Peru Mammals Database — fuzzy_match_species_within_genus","text":"df data frame containing species data matched. Must include columns: Orig.Species, Matched.Genus target_df data frame representing peru_mammals database. Must include columns: genus, species","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/fuzzy_match_species_within_genus.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fuzzy Match Species within Genus in Peru Mammals Database — fuzzy_match_species_within_genus","text":"tibble additional columns: fuzzy_match_species_within_genus: Logical indicating match success fuzzy_species_dist: Numeric distance match Matched.Species: matched species name","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/fuzzy_match_species_within_genus.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fuzzy Match Species within Genus in Peru Mammals Database — fuzzy_match_species_within_genus","text":"function processes matched genus separately efficiency. multiple species match distance, warning issued first match selected. Use get_ambiguous_matches(result, type = \"species\") examine ambiguous cases. Special handling \"sp.\" cases: \"Akodon sp. Ancash\" treated complete specific epithet Fuzzy matching work entire \"SP. ANCASH\" string","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/fuzzy_match_species_within_genus_helper.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper: Fuzzy Match Species within Genus — fuzzy_match_species_within_genus_helper","title":"Helper: Fuzzy Match Species within Genus — fuzzy_match_species_within_genus_helper","text":"Helper function performs fuzzy matching single genus. implementation uses two-step approach avoid issues empty groups filtering NAs: Perform stringdist_left_join get candidates Split matched (finite distance) unmatched (NA distance) Process matched candidates find best matches Recombine final output","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/fuzzy_match_species_within_genus_helper.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper: Fuzzy Match Species within Genus — fuzzy_match_species_within_genus_helper","text":"","code":"fuzzy_match_species_within_genus_helper(df, target_df)"},{"path":"https://paulesantos.github.io/perumammals/reference/fuzzy_match_species_within_genus_helper.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helper: Fuzzy Match Species within Genus — fuzzy_match_species_within_genus_helper","text":"df Data frame single matched genus target_df Peru mammals database","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/fuzzy_match_species_within_genus_helper.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Helper: Fuzzy Match Species within Genus — fuzzy_match_species_within_genus_helper","text":"Data frame fuzzy match results","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/genus_match.html","id":null,"dir":"Reference","previous_headings":"","what":"Match Genus Names Against Peru Mammals Database — genus_match","title":"Match Genus Names Against Peru Mammals Database — genus_match","text":"Performs direct matching genus names unique genera listed peru_mammals database. Useful Rank 1 (genus-) names.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/genus_match.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Match Genus Names Against Peru Mammals Database — genus_match","text":"","code":"genus_match(df, target_df = NULL)"},{"path":"https://paulesantos.github.io/perumammals/reference/genus_match.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Match Genus Names Against Peru Mammals Database — genus_match","text":"df data frame tibble containing genus names matched. Must include column: Orig.Genus target_df data frame representing peru_mammals database. Must include column: genus","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/genus_match.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Match Genus Names Against Peru Mammals Database — genus_match","text":"tibble additional logical column genus_match indicating whether genus successfully matched (TRUE) (FALSE), plus column Matched.Genus matched records.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/genus_match.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Match Genus Names Against Peru Mammals Database — genus_match","text":"function typically used names submitted genus level (Rank 1). genus matched, species genus peru_mammals can retrieved processing (e.g., suggesting possible species user).","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/get_ambiguous_matches.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve Ambiguous Match Information for Peru Mammals — get_ambiguous_matches","title":"Retrieve Ambiguous Match Information for Peru Mammals — get_ambiguous_matches","text":"Extracts information ambiguous matches (multiple candidates tied distances) matching results. Useful quality control manual curation. Adapted peru_mammals (genus species ).","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/get_ambiguous_matches.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve Ambiguous Match Information for Peru Mammals — get_ambiguous_matches","text":"","code":"get_ambiguous_matches(   match_result,   type = c(\"genus\", \"species\", \"all\"),   save_to_file = FALSE,   output_dir = tempdir() )"},{"path":"https://paulesantos.github.io/perumammals/reference/get_ambiguous_matches.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve Ambiguous Match Information for Peru Mammals — get_ambiguous_matches","text":"match_result tibble returned matching functions. type Character. Type ambiguous matches retrieve: \"genus\" (default): Ambiguous genus-level matches \"species\": Ambiguous species-level matches \"\": types save_to_file Logical. TRUE, saves results CSV. Default FALSE (CRAN compliant). output_dir Character. Directory save file save_to_file = TRUE. Defaults tempdir().","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/get_ambiguous_matches.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve Ambiguous Match Information for Peru Mammals — get_ambiguous_matches","text":"tibble ambiguous match details, NULL none exist. Includes original names, matched names, distances, database metadata.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/get_ambiguous_matches.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Retrieve Ambiguous Match Information for Peru Mammals — get_ambiguous_matches","text":"fuzzy matching, multiple candidates may identical string distances. matching algorithm automatically selects first candidate, function allows review alternatives quality control.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/get_common_names_peru.html","id":null,"dir":"Reference","previous_headings":"","what":"Get taxonomic and common name information for Peru mammals — get_common_names_peru","title":"Get taxonomic and common name information for Peru mammals — get_common_names_peru","text":"Returns taxonomic classification common names species validated Peru mammals database.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/get_common_names_peru.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get taxonomic and common name information for Peru mammals — get_common_names_peru","text":"","code":"get_common_names_peru(splist, return_details = FALSE)"},{"path":"https://paulesantos.github.io/perumammals/reference/get_common_names_peru.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get taxonomic and common name information for Peru mammals — get_common_names_peru","text":"splist Character vector species names return_details Logical. TRUE, includes full taxonomic information (default: FALSE)","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/get_common_names_peru.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get taxonomic and common name information for Peru mammals — get_common_names_peru","text":"return_details = FALSE: Character vector common names return_details = TRUE: Tibble taxonomic common name information","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/get_common_names_peru.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get taxonomic and common name information for Peru mammals — get_common_names_peru","text":"","code":"species <- c(\"Panthera onca\", \"Tremarctos ornatus\",              \"Puma concolor\", \"Myotis bakeri\")  # Get common names # Vector get_common_names_peru(species) #> [1] \"Jaguar, otorongo, uturuncu\"      \"Oso de anteojos, ucumari, ucucu\" #> [3] \"Puma, león, lluichu-puma\"        \"Murcielaguito de Baker\"          # tibble tibble::tibble(splist = species) |>  dplyr::mutate(endemic = get_common_names_peru(splist)) #> # A tibble: 4 × 2 #>   splist             endemic                         #>   <chr>              <chr>                           #> 1 Panthera onca      Jaguar, otorongo, uturuncu      #> 2 Tremarctos ornatus Oso de anteojos, ucumari, ucucu #> 3 Puma concolor      Puma, león, lluichu-puma        #> 4 Myotis bakeri      Murcielaguito de Baker           # Get full taxonomic information taxonomy <- get_common_names_peru(species, return_details = TRUE) taxonomy #>            Orig.Name       Matched.Name                     common_name #> 1      Panthera onca      Panthera onca      Jaguar, otorongo, uturuncu #> 2 Tremarctos ornatus Tremarctos ornatus Oso de anteojos, ucumari, ucucu #> 3      Puma concolor      Puma concolor        Puma, león, lluichu-puma #> 4      Myotis bakeri      Myotis bakeri          Murcielaguito de Baker #>             family      order endemic Match.Quality #> 1          Felidae  Carnivora   FALSE         Exact #> 2          Ursidae  Carnivora   FALSE         Exact #> 3          Felidae  Carnivora   FALSE         Exact #> 4 Vespertilionidae Chiroptera    TRUE         Exact"},{"path":"https://paulesantos.github.io/perumammals/reference/get_species_for_genera.html","id":null,"dir":"Reference","previous_headings":"","what":"Get All Species for Matched Genera from Peru Mammals — get_species_for_genera","title":"Get All Species for Matched Genera from Peru Mammals — get_species_for_genera","text":"Helper function retrieve species belonging matched genera peru_mammals database. Useful suggesting possible species genus provided.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/get_species_for_genera.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get All Species for Matched Genera from Peru Mammals — get_species_for_genera","text":"","code":"get_species_for_genera(matched_genera, target_df = NULL)"},{"path":"https://paulesantos.github.io/perumammals/reference/get_species_for_genera.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get All Species for Matched Genera from Peru Mammals — get_species_for_genera","text":"matched_genera Character vector matched genus names (uppercase) target_df data frame representing peru_mammals database","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/get_species_for_genera.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get All Species for Matched Genera from Peru Mammals — get_species_for_genera","text":"data frame genus species columns species matched genera.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/is_endemic_peru.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if species are endemic to Peru — is_endemic_peru","title":"Check if species are endemic to Peru — is_endemic_peru","text":"Simplified wrapper specifically checking endemism status mammals Peru. evaluates species confirmed occur Peru.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/is_endemic_peru.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if species are endemic to Peru — is_endemic_peru","text":"","code":"is_endemic_peru(splist, return_logical = FALSE, filter_exact = FALSE)"},{"path":"https://paulesantos.github.io/perumammals/reference/is_endemic_peru.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if species are endemic to Peru — is_endemic_peru","text":"splist Character vector species names return_logical Logical. TRUE, returns logical vector (TRUE/FALSE/NA). FALSE, returns descriptive character vector (default: FALSE) filter_exact Logical. TRUE, considers exact matches (default: FALSE)","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/is_endemic_peru.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if species are endemic to Peru — is_endemic_peru","text":"return_logical = FALSE: Character vector endemism status return_logical = TRUE: Logical vector (TRUE = endemic, FALSE = endemic, NA = found endemism unknown)","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/is_endemic_peru.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check if species are endemic to Peru — is_endemic_peru","text":"","code":"species <- c(\"Panthera onca\",              \"Atelocynus microtis\",              \"Felis catus\",              \"Myotis bakeri\")  is_endemic_peru(species) #> [1] \"Not endemic\"     \"Not endemic\"     \"Not found\"       \"Endemic to Peru\" # Descriptive output tibble::tibble(splist = species) |>   dplyr::mutate(endemic = is_endemic_peru(splist)) #> # A tibble: 4 × 2 #>   splist              endemic         #>   <chr>               <chr>           #> 1 Panthera onca       Not endemic     #> 2 Atelocynus microtis Not endemic     #> 3 Felis catus         Not found       #> 4 Myotis bakeri       Endemic to Peru"},{"path":"https://paulesantos.github.io/perumammals/reference/is_peru_mammal.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if species are Peru mammals — is_peru_mammal","title":"Check if species are Peru mammals — is_peru_mammal","text":"Main wrapper function validates species names Peru mammals database various output options match quality, endemism status, detailed information.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/is_peru_mammal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if species are Peru mammals — is_peru_mammal","text":"","code":"is_peru_mammal(   splist,   return_details = FALSE,   match_type = \"status\",   filter_exact = FALSE )"},{"path":"https://paulesantos.github.io/perumammals/reference/is_peru_mammal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if species are Peru mammals — is_peru_mammal","text":"splist Character vector species names check return_details Logical. TRUE, returns full validation tibble. FALSE, returns simplified status vector (default: FALSE) match_type Character. Type information return return_details = FALSE: \"status\": Returns \"Found\" \"found\" (default) \"match_quality\": Returns match quality (\"Exact\", \"Fuzzy\", \"found\") \"endemic\": Returns endemism status (\"Endemic\", \"endemic\", \"found\") filter_exact Logical. TRUE, returns exact matches (genus_dist = 0 species_dist = 0). Fuzzy matches treated \"found\" (default: FALSE)","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/is_peru_mammal.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if species are Peru mammals — is_peru_mammal","text":"return_details = FALSE: Character vector requested information. return_details = TRUE: Tibble complete validation information.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/is_peru_mammal.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Check if species are Peru mammals — is_peru_mammal","text":"function wraps validate_peru_mammals() provide flexible output formats different use cases: Basic presence/absence checking Match quality assessment (exact vs fuzzy) Endemism status queries function handles taxonomic matching fuzzy string matching accommodate minor spelling variations maintaining data quality. filter_exact = TRUE, matches zero edit distance genus species names considered valid matches. fields related fuzzy matches set NA \"—\" maintain consistency.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/is_peru_mammal.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check if species are Peru mammals — is_peru_mammal","text":"","code":"species <- c(   \"Panthera onca\",       # Exact match   \"Pantera onca\",        # Fuzzy match (genus misspelled)   \"Tremarctos orrnatus\", # Fuzzy match (species misspelled)   \"Felis domesticus\",     # Not in Peru   \"Myotis bakeri\" )  # Check if species are found (includes fuzzy matches) is_peru_mammal(species) #> [1] \"Found in Peru\" \"Found in Peru\" \"Found in Peru\" \"Not found\"     #> [5] \"Found in Peru\"  # Check with exact matches only is_peru_mammal(species, filter_exact = TRUE) #> [1] \"Found in Peru\" \"Not found\"     \"Not found\"     \"Not found\"     #> [5] \"Found in Peru\"  # Check match quality is_peru_mammal(species, match_type = \"match_quality\") #> [1] \"Exact\"     \"Fuzzy\"     \"Fuzzy\"     \"Not found\" \"Exact\"      # Check endemism is_peru_mammal(species, match_type = \"endemic\") #> [1] \"Not endemic\"     \"Not endemic\"     \"Not endemic\"     \"Not found\"       #> [5] \"Endemic to Peru\"  # Get detailed information is_peru_mammal(species, return_details = TRUE) #>   sorter           Orig.Name       Matched.Name Match.Level matched Rank #> 1      1       Panthera onca      Panthera onca  Exact rank    TRUE    2 #> 2      2        Pantera onca      Panthera onca  Exact rank    TRUE    2 #> 3      3 Tremarctos orrnatus Tremarctos ornatus  Exact rank    TRUE    2 #> 4      4    Felis domesticus                ---    No match   FALSE    2 #> 5      5       Myotis bakeri      Myotis bakeri  Exact rank    TRUE    2 #>   Matched.Rank Comp.Rank valid_rank Orig.Genus Orig.Species Author #> 1            2      TRUE       TRUE   PANTHERA         ONCA        #> 2            2      TRUE       TRUE    PANTERA         ONCA        #> 3            2      TRUE       TRUE TREMARCTOS     ORRNATUS        #> 4           NA        NA         NA      FELIS   DOMESTICUS        #> 5            2      TRUE       TRUE     MYOTIS       BAKERI        #>   Matched.Genus Matched.Species genus_dist species_dist    scientific_name #> 1      PANTHERA            ONCA          0            0      Panthera onca #> 2      PANTHERA            ONCA          1            0      Panthera onca #> 3    TREMARCTOS         ORNATUS          0            1 Tremarctos ornatus #> 4          <NA>            <NA>         NA           NA               <NA> #> 5        MYOTIS          BAKERI          0            0      Myotis bakeri #>                       common_name           family      order endemic #> 1      Jaguar, otorongo, uturuncu          Felidae  Carnivora   FALSE #> 2      Jaguar, otorongo, uturuncu          Felidae  Carnivora   FALSE #> 3 Oso de anteojos, ucumari, ucucu          Ursidae  Carnivora   FALSE #> 4                            <NA>             <NA>       <NA>      NA #> 5          Murcielaguito de Baker Vespertilionidae Chiroptera    TRUE #>   Match.Quality Presence.Status Endemism.Status #> 1         Exact   Found in Peru     Not endemic #> 2         Fuzzy   Found in Peru     Not endemic #> 3         Fuzzy   Found in Peru     Not endemic #> 4     Not found       Not found       Not found #> 5         Exact   Found in Peru Endemic to Peru #>                                                                                                                     Summary #> 1                                                    Panthera onca (Jaguar, otorongo, uturuncu): Found in Peru, not endemic #> 2                  Panthera onca (Jaguar, otorongo, uturuncu): Found in Peru, not endemic [fuzzy match from 'Pantera onca'] #> 3 Tremarctos ornatus (Oso de anteojos, ucumari, ucucu): Found in Peru, not endemic [fuzzy match from 'Tremarctos orrnatus'] #> 4                                                                      Felis domesticus: Not found in Peru mammals database #> 5                                                                   Myotis bakeri (Murcielaguito de Baker): Endemic to Peru  # Get detailed information with exact matches only is_peru_mammal(species, return_details = TRUE, filter_exact = TRUE) #>   sorter           Orig.Name  Matched.Name Match.Level matched Rank #> 1      1       Panthera onca Panthera onca  Exact rank    TRUE    2 #> 2      2        Pantera onca           ---    No match   FALSE    2 #> 3      3 Tremarctos orrnatus           ---    No match   FALSE    2 #> 4      4    Felis domesticus           ---    No match   FALSE    2 #> 5      5       Myotis bakeri Myotis bakeri  Exact rank    TRUE    2 #>   Matched.Rank Comp.Rank valid_rank Orig.Genus Orig.Species Author #> 1            2      TRUE       TRUE   PANTHERA         ONCA        #> 2            2      TRUE       TRUE    PANTERA         ONCA        #> 3            2      TRUE       TRUE TREMARCTOS     ORRNATUS        #> 4           NA        NA         NA      FELIS   DOMESTICUS        #> 5            2      TRUE       TRUE     MYOTIS       BAKERI        #>   Matched.Genus Matched.Species genus_dist species_dist scientific_name #> 1      PANTHERA            ONCA          0            0   Panthera onca #> 2          <NA>            <NA>          1            0            <NA> #> 3          <NA>            <NA>          0            1            <NA> #> 4          <NA>            <NA>         NA           NA            <NA> #> 5        MYOTIS          BAKERI          0            0   Myotis bakeri #>                  common_name           family      order endemic Match.Quality #> 1 Jaguar, otorongo, uturuncu          Felidae  Carnivora   FALSE         Exact #> 2                       <NA>             <NA>       <NA>      NA     Not found #> 3                       <NA>             <NA>       <NA>      NA     Not found #> 4                       <NA>             <NA>       <NA>      NA     Not found #> 5     Murcielaguito de Baker Vespertilionidae Chiroptera    TRUE         Exact #>   Presence.Status Endemism.Status #> 1   Found in Peru     Not endemic #> 2       Not found       Not found #> 3       Not found       Not found #> 4       Not found       Not found #> 5   Found in Peru Endemic to Peru #>                                                                      Summary #> 1     Panthera onca (Jaguar, otorongo, uturuncu): Found in Peru, not endemic #> 2        Pantera onca: Not found in Peru mammals database (exact match only) #> 3 Tremarctos orrnatus: Not found in Peru mammals database (exact match only) #> 4    Felis domesticus: Not found in Peru mammals database (exact match only) #> 5                    Myotis bakeri (Murcielaguito de Baker): Endemic to Peru"},{"path":"https://paulesantos.github.io/perumammals/reference/match_quality_peru.html","id":null,"dir":"Reference","previous_headings":"","what":"Get match quality for Peru mammal names — match_quality_peru","title":"Get match quality for Peru mammal names — match_quality_peru","text":"Returns quality taxonomic name matching (exact vs fuzzy) species validated Peru mammals database.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/match_quality_peru.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get match quality for Peru mammal names — match_quality_peru","text":"","code":"match_quality_peru(splist, return_details = FALSE)"},{"path":"https://paulesantos.github.io/perumammals/reference/match_quality_peru.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get match quality for Peru mammal names — match_quality_peru","text":"splist Character vector species names return_details Logical. TRUE, includes distance metrics matching information (default: FALSE)","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/match_quality_peru.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get match quality for Peru mammal names — match_quality_peru","text":"return_details = FALSE: Character vector match quality return_details = TRUE: Tibble detailed matching information","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/match_quality_peru.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get match quality for Peru mammal names — match_quality_peru","text":"Match quality categories: \"Exact\": Perfect match spelling differences (genus_dist = 0, species_dist = 0) \"Fuzzy\": Match found minor spelling variations (genus_dist > 0 species_dist > 0) \"found\": match database function uses string distance metrics quantify matching quality: genus_dist: Edit distance genus name species_dist: Edit distance species epithet","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/match_quality_peru.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get match quality for Peru mammal names — match_quality_peru","text":"","code":"species <- c(   \"Panthera onca\",      # Exact   \"Tremarctos orrnatus\", # Fuzzy (spelling error)   \"Felis domesticus\",   # Not found   \"Myotis bakeri\" )  # Simple quality check match_quality_peru(species) #> [1] \"Exact\"     \"Fuzzy\"     \"Not found\" \"Exact\"      # Detailed information with edit distances details <- match_quality_peru(species, return_details = TRUE) details #>             Orig.Name       Matched.Name Match.Quality Match.Level genus_dist #> 1       Panthera onca      Panthera onca         Exact  Exact rank          0 #> 2 Tremarctos orrnatus Tremarctos ornatus         Fuzzy  Exact rank          0 #> 3    Felis domesticus                ---     Not found    No match         NA #> 4       Myotis bakeri      Myotis bakeri         Exact  Exact rank          0 #>   species_dist matched                     common_name           family #> 1            0    TRUE      Jaguar, otorongo, uturuncu          Felidae #> 2            1    TRUE Oso de anteojos, ucumari, ucucu          Ursidae #> 3           NA   FALSE                            <NA>             <NA> #> 4            0    TRUE          Murcielaguito de Baker Vespertilionidae #>        order #> 1  Carnivora #> 2  Carnivora #> 3       <NA> #> 4 Chiroptera"},{"path":"https://paulesantos.github.io/perumammals/reference/peru_mammals.html","id":null,"dir":"Reference","previous_headings":"","what":"Mammal species of Peru based on Pacheco et al. (2021) — peru_mammals","title":"Mammal species of Peru based on Pacheco et al. (2021) — peru_mammals","text":"backbone terrestrial marine mammal species known Peru, compiled Pacheco et al. (2021) \"Lista actualizada de la diversidad de los mamíferos del Perú y una propuesta para su actualización\".","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/peru_mammals.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Mammal species of Peru based on Pacheco et al. (2021) — peru_mammals","text":"","code":"data(\"peru_mammals\")"},{"path":"https://paulesantos.github.io/perumammals/reference/peru_mammals.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Mammal species of Peru based on Pacheco et al. (2021) — peru_mammals","text":"tibble 573 rows 12 variables: pm_id Character. Internal stable identifier species, combining original numeric id abbreviation genus. Intended internal linking tables. order Character. Taxonomic order (e.g. Didelphimorphia, Rodentia, Chiroptera). family Character. Taxonomic family. genus Character. Genus name. species Character. Specific epithet. scientific_name Character. Binomial scientific name (Genus species), without authorship. main field used name validation. scientific_name_full Character. Full scientific name including authorship year, provided original annex. author Character. Authorship year species name. common_name Character. Common name Spanish, available. endemic Logical. TRUE species considered endemic Peru Pacheco et al. (2021), FALSE otherwise. ecoregions Character. Comma-separated codes Peruvian ecoregions species occurs, using abbreviations defined Pacheco et al. (2021) (e.g. \"YUN, SB, SP\"). See peru_mammals_ecoregions_meta code definitions. reference Character. Bibliographic notes specific references supporting presence taxonomy species.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/peru_mammals.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Mammal species of Peru based on Pacheco et al. (2021) — peru_mammals","text":"Pacheco, V., Cadenillas, R., Zeballos, H., Hurtado, C. M., Ruelas, D., & Pari, . (2021). Lista actualizada de la diversidad de los mamíferos del Perú y una propuesta para su actualización.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/peru_mammals.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Mammal species of Peru based on Pacheco et al. (2021) — peru_mammals","text":"row corresponds single species listed original annex paper. dataset main taxonomic backbone used perumammals package.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/peru_mammals_backbone.html","id":null,"dir":"Reference","previous_headings":"","what":"Summary information on the perumammals taxonomic backbone — peru_mammals_backbone","title":"Summary information on the perumammals taxonomic backbone — peru_mammals_backbone","text":"one-row tibble metadata taxonomic backbone used perumammals, including bibliographic source, year, number species date internal data objects created.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/peru_mammals_backbone.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summary information on the perumammals taxonomic backbone — peru_mammals_backbone","text":"","code":"data(\"peru_mammals_backbone\")"},{"path":"https://paulesantos.github.io/perumammals/reference/peru_mammals_backbone.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Summary information on the perumammals taxonomic backbone — peru_mammals_backbone","text":"tibble 1 row 4 variables: source Character. Short bibliographic reference backbone source (Pacheco et al. 2021). source_year Integer. Publication year backbone source (2021). n_species Integer. Number species included backbone (rows peru_mammals). created_at Date. Date backbone data objects generated (package build process).","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/peru_mammals_backbone.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Summary information on the perumammals taxonomic backbone — peru_mammals_backbone","text":"object intended internal bookkeeping functions report origin version backbone.","code":""},{"path":[]},{"path":"https://paulesantos.github.io/perumammals/reference/peru_mammals_ecoregions.html","id":null,"dir":"Reference","previous_headings":"","what":"Mammal species by Peruvian ecoregion — peru_mammals_ecoregions","title":"Mammal species by Peruvian ecoregion — peru_mammals_ecoregions","text":"long-format table linking mammal species Peruvian ecoregions occurs, based Pacheco et al. (2021).","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/peru_mammals_ecoregions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Mammal species by Peruvian ecoregion — peru_mammals_ecoregions","text":"","code":"data(\"peru_mammals_ecoregions\")"},{"path":"https://paulesantos.github.io/perumammals/reference/peru_mammals_ecoregions.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Mammal species by Peruvian ecoregion — peru_mammals_ecoregions","text":"tibble one row per species–ecoregion combination 3 variables: pm_id Character. Internal species identifier, matching peru_mammals. scientific_name Character. Binomial scientific name (Genus species). ecoregion_code Character. Abbreviation ecoregion species occurs (e.g. \"YUN\", \"SB\", \"COS\"). See peru_mammals_ecoregions_meta code definitions.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/peru_mammals_ecoregions.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Mammal species by Peruvian ecoregion — peru_mammals_ecoregions","text":"Pacheco et al. (2021).","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/peru_mammals_ecoregions.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Mammal species by Peruvian ecoregion — peru_mammals_ecoregions","text":"row corresponds single combination species ecoregion. dataset derived ecoregions field peru_mammals.","code":""},{"path":[]},{"path":"https://paulesantos.github.io/perumammals/reference/peru_mammals_ecoregions_meta.html","id":null,"dir":"Reference","previous_headings":"","what":"Metadata for Peruvian mammal ecoregions — peru_mammals_ecoregions_meta","title":"Metadata for Peruvian mammal ecoregions — peru_mammals_ecoregions_meta","text":"Definitions ecoregion codes used peru_mammals peru_mammals_ecoregions. codes follow abbreviations used Pacheco et al. (2021), based Peruvian ecoregion schemes.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/peru_mammals_ecoregions_meta.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Metadata for Peruvian mammal ecoregions — peru_mammals_ecoregions_meta","text":"","code":"data(\"peru_mammals_ecoregions_meta\")"},{"path":"https://paulesantos.github.io/perumammals/reference/peru_mammals_ecoregions_meta.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Metadata for Peruvian mammal ecoregions — peru_mammals_ecoregions_meta","text":"tibble one row per ecoregion code 2 variables: ecoregion_code Character. Ecoregion abbreviation. codes used dataset : \"OCE\" – Oceánica \"BPP\" – Bosque Pluvial del Pacífico \"BSE\" – Bosque Seco Ecuatorial \"COS\" – Costa \"VOC\" – Vertiente Occidental \"PAR\" – Páramo \"PUN\" – Puna \"YUN\" – Yungas \"SB\"  – Selva Baja \"SP\"  – Sabana de Palmera ecoregion_label Character. Human-readable label/description ecoregion Spanish.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/peru_mammals_ecoregions_meta.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Metadata for Peruvian mammal ecoregions — peru_mammals_ecoregions_meta","text":"Pacheco et al. (2021).","code":""},{"path":[]},{"path":"https://paulesantos.github.io/perumammals/reference/pm_backbone_info.html","id":null,"dir":"Reference","previous_headings":"","what":"Display taxonomic backbone metadata for Peruvian mammals — pm_backbone_info","title":"Display taxonomic backbone metadata for Peruvian mammals — pm_backbone_info","text":"Displays summary information taxonomic backbone used perumammals. backbone based taxonomic checklist published Pacheco et al. (2021), digitised original PDF publication structured tibble format.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/pm_backbone_info.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Display taxonomic backbone metadata for Peruvian mammals — pm_backbone_info","text":"","code":"pm_backbone_info()"},{"path":"https://paulesantos.github.io/perumammals/reference/pm_backbone_info.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Display taxonomic backbone metadata for Peruvian mammals — pm_backbone_info","text":"Invisibly returns tibble one row containing backbone metadata. structure peru_mammals_backbone. Called primarily side effect printing summary information.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/pm_backbone_info.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Display taxonomic backbone metadata for Peruvian mammals — pm_backbone_info","text":"Pacheco Torres, V. R., Diaz, S., Graham Angeles, L. ., Flores-Quispe, M., Calizaya-Mamani, G., Ruelas, D., & Sánchez-Vendizú, P. (2021). Lista actualizada de la diversidad de los mamíferos del Perú y una propuesta para su actualización. Revista Peruana De Biología, 28(4), e21019. doi:10.15381/rpb.v28i4.21019","code":""},{"path":[]},{"path":"https://paulesantos.github.io/perumammals/reference/pm_backbone_info.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Display taxonomic backbone metadata for Peruvian mammals — pm_backbone_info","text":"","code":"# Display backbone information pm_backbone_info() #> ── Perumammals Backbone Summary ──────────────────────────────────────────────── #> ℹ Source: Pacheco et al. (2021) Lista actualizada de la diversidad de los mamíferos del Perú y una propuesta para su actualización #> ℹ Year: 2021 #> ℹ Number of species: 573 #>  #> Full citation: #> Pacheco Torres, V. R., Diaz, S., Graham Angeles, L. A., Flores-Quispe, M., #> Calizaya-Mamani, G., Ruelas, D., & Sánchez-Vendizú, P. (2021). Lista #> actualizada de la diversidad de los mamíferos del Perú y una propuesta #> para su actualización. Revista Peruana De Biología, 28(4), e21019. #> https://doi.org/10.15381/rpb.v28i4.21019 #> ────────────────────────────────────────────────────────────────────────────────  # Access the data invisibly returned backbone_data <- pm_backbone_info() #> ── Perumammals Backbone Summary ──────────────────────────────────────────────── #> ℹ Source: Pacheco et al. (2021) Lista actualizada de la diversidad de los mamíferos del Perú y una propuesta para su actualización #> ℹ Year: 2021 #> ℹ Number of species: 573 #>  #> Full citation: #> Pacheco Torres, V. R., Diaz, S., Graham Angeles, L. A., Flores-Quispe, M., #> Calizaya-Mamani, G., Ruelas, D., & Sánchez-Vendizú, P. (2021). Lista #> actualizada de la diversidad de los mamíferos del Perú y una propuesta #> para su actualización. Revista Peruana De Biología, 28(4), e21019. #> https://doi.org/10.15381/rpb.v28i4.21019 #> ──────────────────────────────────────────────────────────────────────────────── backbone_data$n_species #> [1] 573"},{"path":"https://paulesantos.github.io/perumammals/reference/pm_by_ecoregion.html","id":null,"dir":"Reference","previous_headings":"","what":"List species by ecoregion — pm_by_ecoregion","title":"List species by ecoregion — pm_by_ecoregion","text":"Convenience wrapper list species occurring one Peruvian ecoregions. function uses pm_species() internally therefore supports taxonomic endemism filters.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/pm_by_ecoregion.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List species by ecoregion — pm_by_ecoregion","text":"","code":"pm_by_ecoregion(   ecoregion,   order = NULL,   family = NULL,   genus = NULL,   endemic = NULL )"},{"path":"https://paulesantos.github.io/perumammals/reference/pm_by_ecoregion.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List species by ecoregion — pm_by_ecoregion","text":"ecoregion Character vector one ecoregion codes (e.g. \"YUN\", \"SB\", \"COS\"). least one code must provided. Invalid codes generate warning. order Optional character vector one taxonomic orders keep. NULL (default), filter applied order. family Optional character vector one families keep. NULL (default), filter applied family. genus Optional character vector one genera keep. NULL (default), filter applied genus. endemic Optional logical. TRUE, endemic species returned; FALSE, non-endemic species returned; NULL (default), filter applied endemism.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/pm_by_ecoregion.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List species by ecoregion — pm_by_ecoregion","text":"tibble subset rows peru_mammals corresponding species present least one requested ecoregions. Returns empty tibble species match criteria.","code":""},{"path":[]},{"path":"https://paulesantos.github.io/perumammals/reference/pm_by_ecoregion.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List species by ecoregion — pm_by_ecoregion","text":"","code":"# All species in Yungas pm_by_ecoregion(\"YUN\") #> # A tibble: 256 × 5 #>    order        family      genus      species        scientific_name       #>    <chr>        <chr>       <chr>      <chr>          <chr>                 #>  1 Artiodactyla Cerevidae   Mazama     americana      Mazama americana      #>  2 Artiodactyla Cerevidae   Mazama     chunyi         Mazama chunyi         #>  3 Artiodactyla Cerevidae   Mazama     rufina         Mazama rufina         #>  4 Artiodactyla Cerevidae   Odocoileus peruvianus     Odocoileus peruvianus #>  5 Artiodactyla Cerevidae   Pudu       mephistophiles Pudu mephistophiles   #>  6 Artiodactyla Tayassuidae Dicotyles  tajacu         Dicotyles tajacu      #>  7 Artiodactyla Tayassuidae Tayassu    pecari         Tayassu pecari        #>  8 Carnivora    Canidae     Atelocynus microtis       Atelocynus microtis   #>  9 Carnivora    Canidae     Lycalopex  culpaeus       Lycalopex culpaeus    #> 10 Carnivora    Canidae     Speothos   venaticus      Speothos venaticus    #> # ℹ 246 more rows  # Endemic species in Selva Baja (SB) pm_by_ecoregion(\"SB\", endemic = TRUE) #> # A tibble: 18 × 5 #>    order           family         genus         species       scientific_name    #>    <chr>           <chr>          <chr>         <chr>         <chr>              #>  1 Chiroptera      Phyllostomidae Hsunycteris   dashe         Hsunycteris dashe  #>  2 Chiroptera      Phyllostomidae Micronycteris matses        Micronycteris mat… #>  3 Didelphimorphia Didelphidae    Marmosa       andersoni     Marmosa andersoni  #>  4 Didelphimorphia Didelphidae    Marmosops     soinii        Marmosops soinii   #>  5 Didelphimorphia Didelphidae    Monodelphis   handleyi      Monodelphis handl… #>  6 Didelphimorphia Didelphidae    Monodelphis   ronaldi       Monodelphis ronal… #>  7 Primates        Cebidae        Aotus         miconax       Aotus miconax      #>  8 Primates        Cebidae        Saguinus      illigeri      Saguinus illigeri  #>  9 Primates        Cebidae        Saguinus      leucogenys    Saguinus leucogen… #> 10 Primates        Cebidae        Saguinus      nigrifrons    Saguinus nigrifro… #> 11 Primates        Pitheciidae    Callicebus    oenanthe      Callicebus oenant… #> 12 Primates        Pitheciidae    Callicebus    urubambensis  Callicebus urubam… #> 13 Primates        Pitheciidae    Pithecia      aequatorialis Pithecia aequator… #> 14 Primates        Pitheciidae    Pithecia      isabela       Pithecia isabela   #> 15 Rodentia        Cricetidae     Neusticomys   peruviensis   Neusticomys peruv… #> 16 Rodentia        Cricetidae     Rhipidomys    modicus       Rhipidomys modicus #> 17 Rodentia        Echimyidae     Toromys       albiventris   Toromys albiventr… #> 18 Rodentia        Sciuridae      Hadrosciurus  sp. 3         Hadrosciurus sp. 3  # Rodents in Costa and Vertiente Occidental pm_by_ecoregion(c(\"COS\", \"VOC\"), order = \"Rodentia\") #> # A tibble: 35 × 5 #>    order    family        genus      species     scientific_name        #>    <chr>    <chr>         <chr>      <chr>       <chr>                  #>  1 Rodentia Caviidae      Cavia      porcellus   Cavia porcellus        #>  2 Rodentia Caviidae      Cavia      tschudii    Cavia tschudii         #>  3 Rodentia Chinchillidae Lagidium   viscacia    Lagidium viscacia      #>  4 Rodentia Cricetidae    Abrothrix  andina      Abrothrix andina       #>  5 Rodentia Cricetidae    Aegialomys baroni      Aegialomys baroni      #>  6 Rodentia Cricetidae    Aegialomys ica         Aegialomys ica         #>  7 Rodentia Cricetidae    Aegialomys xanthaeolus Aegialomys xanthaeolus #>  8 Rodentia Cricetidae    Akodon     juninensis  Akodon juninensis      #>  9 Rodentia Cricetidae    Akodon     mollis      Akodon mollis          #> 10 Rodentia Cricetidae    Akodon     sp. Villa   Akodon sp. Villa       #> # ℹ 25 more rows  # Bats in multiple ecoregions pm_by_ecoregion(c(\"YUN\", \"SB\"), order = \"Chiroptera\") #> # A tibble: 161 × 5 #>    order      family         genus          species      scientific_name         #>    <chr>      <chr>          <chr>          <chr>        <chr>                   #>  1 Chiroptera Emballonuridae Centronycteris centralis    Centronycteris central… #>  2 Chiroptera Emballonuridae Centronycteris maximiliani  Centronycteris maximil… #>  3 Chiroptera Emballonuridae Cormura        brevirostris Cormura brevirostris    #>  4 Chiroptera Emballonuridae Cyttarops      alecto       Cyttarops alecto        #>  5 Chiroptera Emballonuridae Diclidurus     albus        Diclidurus albus        #>  6 Chiroptera Emballonuridae Diclidurus     isabella     Diclidurus isabella     #>  7 Chiroptera Emballonuridae Peropteryx     kappleri     Peropteryx kappleri     #>  8 Chiroptera Emballonuridae Peropteryx     leucoptera   Peropteryx leucoptera   #>  9 Chiroptera Emballonuridae Peropteryx     macrotis     Peropteryx macrotis     #> 10 Chiroptera Emballonuridae Peropteryx     pallidoptera Peropteryx pallidoptera #> # ℹ 151 more rows pm_by_ecoregion(c(\"YUN\", \"SB\"), order = \"Chiroptera\", endemic =  TRUE) #> # A tibble: 4 × 5 #>   order      family         genus         species scientific_name      #>   <chr>      <chr>          <chr>         <chr>   <chr>                #> 1 Chiroptera Molossidae     Mormopterus   phrudus Mormopterus phrudus  #> 2 Chiroptera Phyllostomidae Anoura        javieri Anoura javieri       #> 3 Chiroptera Phyllostomidae Hsunycteris   dashe   Hsunycteris dashe    #> 4 Chiroptera Phyllostomidae Micronycteris matses  Micronycteris matses"},{"path":"https://paulesantos.github.io/perumammals/reference/pm_ecoregion_summary.html","id":null,"dir":"Reference","previous_headings":"","what":"Summary of species richness by ecoregion — pm_ecoregion_summary","title":"Summary of species richness by ecoregion — pm_ecoregion_summary","text":"Computes summary species richness endemism ecoregion Peruvian mammal backbone.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/pm_ecoregion_summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summary of species richness by ecoregion — pm_ecoregion_summary","text":"","code":"pm_ecoregion_summary(sort_by = c(\"code\", \"species\", \"endemic\", \"label\"))"},{"path":"https://paulesantos.github.io/perumammals/reference/pm_ecoregion_summary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summary of species richness by ecoregion — pm_ecoregion_summary","text":"sort_by Character string indicating sort results. Options : \"code\" (default) – sort alphabetically ecoregion code. \"species\" – sort number species (descending). \"endemic\" – sort number endemic species (descending). \"label\" – sort alphabetically ecoregion label.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/pm_ecoregion_summary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summary of species richness by ecoregion — pm_ecoregion_summary","text":"tibble one row per ecoregion following columns: ecoregion_code – ecoregion abbreviation. ecoregion_label – ecoregion description Spanish. n_species – total number species recorded ecoregion. n_endemic – number endemic species recorded ecoregion. pct_endemic – percentage endemic species ecoregion.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/pm_ecoregion_summary.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Summary of species richness by ecoregion — pm_ecoregion_summary","text":"summary based long-format table peru_mammals_ecoregions joins metadata peru_mammals_ecoregions_meta endemism information peru_mammals.","code":""},{"path":[]},{"path":"https://paulesantos.github.io/perumammals/reference/pm_ecoregion_summary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Summary of species richness by ecoregion — pm_ecoregion_summary","text":"","code":"# Get summary for all ecoregions (sorted by code) pm_ecoregion_summary() #> # A tibble: 10 × 5 #>    ecoregion_code ecoregion_label             n_species n_endemic pct_endemic #>    <chr>          <chr>                           <int>     <int>       <dbl> #>  1 BPP            Bosque Pluvial del Pacífico        69         0         0   #>  2 BSE            Bosque Seco Ecuatorial             81         4         4.9 #>  3 COS            Costa                              66        16        24.2 #>  4 OCE            Oceánica                           30         0         0   #>  5 PAR            Páramo                             26         4        15.4 #>  6 PUN            Puna                               71        14        19.7 #>  7 SB             Selva Baja                        320        18         5.6 #>  8 SP             Sabana de Palmera                  83         0         0   #>  9 VOC            Vertiente Occidental               72        15        20.8 #> 10 YUN            Yungas                            256        48        18.8  # Sort by species richness pm_ecoregion_summary(sort_by = \"species\") #> # A tibble: 10 × 5 #>    ecoregion_code ecoregion_label             n_species n_endemic pct_endemic #>    <chr>          <chr>                           <int>     <int>       <dbl> #>  1 SB             Selva Baja                        320        18         5.6 #>  2 YUN            Yungas                            256        48        18.8 #>  3 SP             Sabana de Palmera                  83         0         0   #>  4 BSE            Bosque Seco Ecuatorial             81         4         4.9 #>  5 VOC            Vertiente Occidental               72        15        20.8 #>  6 PUN            Puna                               71        14        19.7 #>  7 BPP            Bosque Pluvial del Pacífico        69         0         0   #>  8 COS            Costa                              66        16        24.2 #>  9 OCE            Oceánica                           30         0         0   #> 10 PAR            Páramo                             26         4        15.4  # Sort by number of endemic species pm_ecoregion_summary(sort_by = \"endemic\") #> # A tibble: 10 × 5 #>    ecoregion_code ecoregion_label             n_species n_endemic pct_endemic #>    <chr>          <chr>                           <int>     <int>       <dbl> #>  1 YUN            Yungas                            256        48        18.8 #>  2 SB             Selva Baja                        320        18         5.6 #>  3 COS            Costa                              66        16        24.2 #>  4 VOC            Vertiente Occidental               72        15        20.8 #>  5 PUN            Puna                               71        14        19.7 #>  6 BSE            Bosque Seco Ecuatorial             81         4         4.9 #>  7 PAR            Páramo                             26         4        15.4 #>  8 BPP            Bosque Pluvial del Pacífico        69         0         0   #>  9 OCE            Oceánica                           30         0         0   #> 10 SP             Sabana de Palmera                  83         0         0    # Find ecoregion with highest species richness eco_summary <- pm_ecoregion_summary(sort_by = \"species\") eco_summary[1, ] #> # A tibble: 1 × 5 #>   ecoregion_code ecoregion_label n_species n_endemic pct_endemic #>   <chr>          <chr>               <int>     <int>       <dbl> #> 1 SB             Selva Baja            320        18         5.6  # Ecoregions with more than 100 species eco_summary <- pm_ecoregion_summary() subset(eco_summary, n_species > 100) #> # A tibble: 2 × 5 #>   ecoregion_code ecoregion_label n_species n_endemic pct_endemic #>   <chr>          <chr>               <int>     <int>       <dbl> #> 1 SB             Selva Baja            320        18         5.6 #> 2 YUN            Yungas                256        48        18.8  # Compare richness between lowland and highland ecoregions eco_summary <- pm_ecoregion_summary(sort_by = \"species\") lowland <- eco_summary[eco_summary$ecoregion_code %in% c(\"SB\", \"SP\"), ] highland <- eco_summary[eco_summary$ecoregion_code %in% c(\"PUN\", \"PAR\"), ]"},{"path":"https://paulesantos.github.io/perumammals/reference/pm_endemics.html","id":null,"dir":"Reference","previous_headings":"","what":"List endemic mammal species of Peru — pm_endemics","title":"List endemic mammal species of Peru — pm_endemics","text":"Returns endemic species Peruvian mammal backbone, optional filters order, family /ecoregion.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/pm_endemics.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List endemic mammal species of Peru — pm_endemics","text":"","code":"pm_endemics(order = NULL, family = NULL, genus = NULL, ecoregion = NULL)"},{"path":"https://paulesantos.github.io/perumammals/reference/pm_endemics.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List endemic mammal species of Peru — pm_endemics","text":"order Optional character vector one taxonomic orders keep. NULL (default), filter applied order. family Optional character vector one families keep. NULL (default), filter applied family. genus Optional character vector one genera keep. NULL (default), filter applied genus. ecoregion Optional character vector one ecoregion codes (e.g. \"YUN\", \"SB\", \"COS\"). supplied, species occurring least one given ecoregions returned.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/pm_endemics.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List endemic mammal species of Peru — pm_endemics","text":"tibble endemic species (subset peru_mammals).","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/pm_endemics.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"List endemic mammal species of Peru — pm_endemics","text":"convenience wrapper around pm_species() endemic = TRUE.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/pm_endemics.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List endemic mammal species of Peru — pm_endemics","text":"","code":"# All endemic species pm_endemics() #> # A tibble: 87 × 5 #>    order      family           genus         species   scientific_name      #>    <chr>      <chr>            <chr>         <chr>     <chr>                #>  1 Chiroptera Molossidae       Eumops        chiribaya Eumops chiribaya     #>  2 Chiroptera Molossidae       Mormopterus   phrudus   Mormopterus phrudus  #>  3 Chiroptera Molossidae       Tomopeas      ravus     Tomopeas ravus       #>  4 Chiroptera Phyllostomidae   Anoura        javieri   Anoura javieri       #>  5 Chiroptera Phyllostomidae   Hsunycteris   dashe     Hsunycteris dashe    #>  6 Chiroptera Phyllostomidae   Micronycteris matses    Micronycteris matses #>  7 Chiroptera Vespertilionidae Eptesicus     mochica   Eptesicus mochica    #>  8 Chiroptera Vespertilionidae Lasiurus      arequipae Lasiurus arequipae   #>  9 Chiroptera Vespertilionidae Myotis        bakeri    Myotis bakeri        #> 10 Cingulata  Dasypodidae      Dasypus       pilosus   Dasypus pilosus      #> # ℹ 77 more rows  # Endemic rodents pm_endemics(order = \"Rodentia\") #> # A tibble: 56 × 5 #>    order    family        genus      species           scientific_name          #>    <chr>    <chr>         <chr>      <chr>             <chr>                    #>  1 Rodentia Abrocomidae   Cuscomys   ashaninka         Cuscomys ashaninka       #>  2 Rodentia Abrocomidae   Cuscomys   oblativus         Cuscomys oblativus       #>  3 Rodentia Chinchillidae Lagostomus crassus           Lagostomus crassus       #>  4 Rodentia Cricetidae    Aegialomys ica               Aegialomys ica           #>  5 Rodentia Cricetidae    Akodon     josemariarguedasi Akodon josemariarguedasi #>  6 Rodentia Cricetidae    Akodon     juninensis        Akodon juninensis        #>  7 Rodentia Cricetidae    Akodon     kotosh            Akodon kotosh            #>  8 Rodentia Cricetidae    Akodon     orophilus         Akodon orophilus         #>  9 Rodentia Cricetidae    Akodon     sp. Ancash        Akodon sp. Ancash        #> 10 Rodentia Cricetidae    Akodon     sp. Villa         Akodon sp. Villa         #> # ℹ 46 more rows  # Endemic species in Yungas (YUN) pm_endemics(ecoregion = \"YUN\") #> # A tibble: 48 × 5 #>    order           family         genus       species     scientific_name       #>    <chr>           <chr>          <chr>       <chr>       <chr>                 #>  1 Chiroptera      Molossidae     Mormopterus phrudus     Mormopterus phrudus   #>  2 Chiroptera      Phyllostomidae Anoura      javieri     Anoura javieri        #>  3 Cingulata       Dasypodidae    Dasypus     pilosus     Dasypus pilosus       #>  4 Didelphimorphia Didelphidae    Marmosa     andersoni   Marmosa andersoni     #>  5 Didelphimorphia Didelphidae    Marmosa     parda       Marmosa parda         #>  6 Didelphimorphia Didelphidae    Marmosops   juninensis  Marmosops juninensis  #>  7 Didelphimorphia Didelphidae    Monodelphis gardeni     Monodelphis gardeni   #>  8 Didelphimorphia Didelphidae    Philander   nigratus    Philander nigratus    #>  9 Eulipotyphla    Soricidae      Cryptotis   evaristoi   Cryptotis evaristoi   #> 10 Eulipotyphla    Soricidae      Cryptotis   peruviensis Cryptotis peruviensis #> # ℹ 38 more rows"},{"path":"https://paulesantos.github.io/perumammals/reference/pm_list_ecoregions.html","id":null,"dir":"Reference","previous_headings":"","what":"Display ecoregion metadata for Peruvian mammals — pm_list_ecoregions","title":"Display ecoregion metadata for Peruvian mammals — pm_list_ecoregions","text":"Displays summary information ecoregions used Peruvian mammal backbone. Ecoregions follow Brack-Egg (1986) classification system used Peruvian biogeography describe distribution mammal species across different ecological regions.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/pm_list_ecoregions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Display ecoregion metadata for Peruvian mammals — pm_list_ecoregions","text":"","code":"pm_list_ecoregions(include_endemic = FALSE)"},{"path":"https://paulesantos.github.io/perumammals/reference/pm_list_ecoregions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Display ecoregion metadata for Peruvian mammals — pm_list_ecoregions","text":"include_endemic Logical. TRUE, includes columns showing number percentage endemic species per ecoregion. Default FALSE.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/pm_list_ecoregions.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Display ecoregion metadata for Peruvian mammals — pm_list_ecoregions","text":"tibble one row per ecoregion, arranged descending order species richness, following columns: ecoregion_code Abbreviated ecoregion code (e.g., \"SB\", \"YUN\") ecoregion_label Full ecoregion name Spanish n_species Total number mammal species recorded ecoregion pct_species Percentage Peru's total mammal diversity (0-100) n_endemic (include_endemic = TRUE) Number endemic species ecoregion pct_endemic (include_endemic = TRUE) Percentage endemic species relative total species ecoregion (0-100)","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/pm_list_ecoregions.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Display ecoregion metadata for Peruvian mammals — pm_list_ecoregions","text":"ecoregion classification follows Brack-Egg (1986), widely-used biogeographic framework Peru recognizes 10 distinct ecological regions based climate, vegetation, elevation. classification used Pacheco et al. (2021) document distribution patterns Peruvian mammals. function prints formatted summary console invisibly returns complete data analysis.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/pm_list_ecoregions.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Display ecoregion metadata for Peruvian mammals — pm_list_ecoregions","text":"Brack-Egg, . (1986). Ecología de un país complejo. J. Mejía Baca (Ed.), Gran Geografía del Perú: Naturaleza y Hombre (Vol. 2, pp. 175-319). Barcelona: Manfer-Mejía Baca.","code":""},{"path":[]},{"path":"https://paulesantos.github.io/perumammals/reference/pm_list_ecoregions.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Display ecoregion metadata for Peruvian mammals — pm_list_ecoregions","text":"","code":"# Display ecoregion information pm_list_ecoregions() #> ── Peruvian Mammal Ecoregions (Brack-Egg, 1986) ──────────────────────────────── #> ℹ Number of ecoregions: 10 #> ℹ Total mammal species in Peru: 573 #>  #> Ecoregions by species richness: #>  #> SB - Selva Baja: 320 species (55.8%) #> YUN - Yungas: 256 species (44.7%) #> SP - Sabana de Palmera: 83 species (14.5%) #> BSE - Bosque Seco Ecuatorial: 81 species (14.1%) #> VOC - Vertiente Occidental: 72 species (12.6%) #> PUN - Puna: 71 species (12.4%) #> BPP - Bosque Pluvial del Pacífico: 69 species (12%) #> COS - Costa: 66 species (11.5%) #> OCE - Oceánica: 30 species (5.2%) #> PAR - Páramo: 26 species (4.5%) #>  #> Use pm_by_ecoregion() to filter species by ecoregion #> Use include_endemic = TRUE to see endemic species counts #> ────────────────────────────────────────────────────────────────────────────────  # Include endemic species information  pm_list_ecoregions(include_endemic = TRUE) #> ── Peruvian Mammal Ecoregions (Brack-Egg, 1986) ──────────────────────────────── #> ℹ Number of ecoregions: 10 #> ℹ Total mammal species in Peru: 573 #>  #> Ecoregions by species richness: #>  #> SB - Selva Baja: 320 species (55.8%), 18 endemic (5.6%) #> YUN - Yungas: 256 species (44.7%), 48 endemic (18.8%) #> SP - Sabana de Palmera: 83 species (14.5%), 0 endemic (0%) #> BSE - Bosque Seco Ecuatorial: 81 species (14.1%), 4 endemic (4.9%) #> VOC - Vertiente Occidental: 72 species (12.6%), 15 endemic (20.8%) #> PUN - Puna: 71 species (12.4%), 14 endemic (19.7%) #> BPP - Bosque Pluvial del Pacífico: 69 species (12%), 0 endemic (0%) #> COS - Costa: 66 species (11.5%), 16 endemic (24.2%) #> OCE - Oceánica: 30 species (5.2%), 0 endemic (0%) #> PAR - Páramo: 26 species (4.5%), 4 endemic (15.4%) #>  #> Use pm_by_ecoregion() to filter species by ecoregion #> ────────────────────────────────────────────────────────────────────────────────  # Access the data for further analysis ecoregion_data <- pm_list_ecoregions() #> ── Peruvian Mammal Ecoregions (Brack-Egg, 1986) ──────────────────────────────── #> ℹ Number of ecoregions: 10 #> ℹ Total mammal species in Peru: 573 #>  #> Ecoregions by species richness: #>  #> SB - Selva Baja: 320 species (55.8%) #> YUN - Yungas: 256 species (44.7%) #> SP - Sabana de Palmera: 83 species (14.5%) #> BSE - Bosque Seco Ecuatorial: 81 species (14.1%) #> VOC - Vertiente Occidental: 72 species (12.6%) #> PUN - Puna: 71 species (12.4%) #> BPP - Bosque Pluvial del Pacífico: 69 species (12%) #> COS - Costa: 66 species (11.5%) #> OCE - Oceánica: 30 species (5.2%) #> PAR - Páramo: 26 species (4.5%) #>  #> Use pm_by_ecoregion() to filter species by ecoregion #> Use include_endemic = TRUE to see endemic species counts #> ────────────────────────────────────────────────────────────────────────────────  # Ecoregions with highest species richness ecoregion_data #> # A tibble: 10 × 4 #>    ecoregion_code ecoregion_label             n_species pct_species #>    <chr>          <chr>                           <int>       <dbl> #>  1 SB             Selva Baja                        320        55.8 #>  2 YUN            Yungas                            256        44.7 #>  3 SP             Sabana de Palmera                  83        14.5 #>  4 BSE            Bosque Seco Ecuatorial             81        14.1 #>  5 VOC            Vertiente Occidental               72        12.6 #>  6 PUN            Puna                               71        12.4 #>  7 BPP            Bosque Pluvial del Pacífico        69        12   #>  8 COS            Costa                              66        11.5 #>  9 OCE            Oceánica                           30         5.2 #> 10 PAR            Páramo                             26         4.5"},{"path":"https://paulesantos.github.io/perumammals/reference/pm_list_endemic.html","id":null,"dir":"Reference","previous_headings":"","what":"List endemic mammal species by taxonomic order — pm_list_endemic","title":"List endemic mammal species by taxonomic order — pm_list_endemic","text":"Summarises diversity endemic mammal species Peru, grouped taxonomic order. Provides counts families, genera, species endemic Peru within order. Optionally includes endemism rates relative total species richness.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/pm_list_endemic.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List endemic mammal species by taxonomic order — pm_list_endemic","text":"","code":"pm_list_endemic(include_rate = FALSE)"},{"path":"https://paulesantos.github.io/perumammals/reference/pm_list_endemic.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List endemic mammal species by taxonomic order — pm_list_endemic","text":"include_rate Logical. TRUE, includes additional columns showing total species richness endemism rate order. Default FALSE.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/pm_list_endemic.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List endemic mammal species by taxonomic order — pm_list_endemic","text":"tibble one row per order containing endemic species, arranged descending order number endemic species, following columns: order Taxonomic order n_families Number families endemic species order n_genera Number genera endemic species order n_endemic Number endemic species order n_species (include_rate = TRUE) Total number species order endemic_rate (include_rate = TRUE) Proportion endemic species (0-1) endemic_pct (include_rate = TRUE) Percentage endemic species (0-100)","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/pm_list_endemic.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"List endemic mammal species by taxonomic order — pm_list_endemic","text":"function focuses exclusively species endemic Peru (.e., species found nowhere else world). Orders without endemic species included output. include_rate = FALSE (default), results sorted number endemic species descending order, highlighting orders highest endemic diversity. include_rate = TRUE, results sorted total species richness descending order, include endemism rates show proportion order's diversity endemic Peru. summary row labeled \"Total\" appended show overall statistics.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/pm_list_endemic.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List endemic mammal species by taxonomic order — pm_list_endemic","text":"","code":"# Summary of endemic species by order pm_list_endemic() #> # A tibble: 6 × 4 #>   order           n_families n_genera n_endemic #>   <chr>                <int>    <int>     <int> #> 1 Rodentia                 7       22        56 #> 2 Didelphimorphia          1        5        10 #> 3 Chiroptera               3        9         9 #> 4 Primates                 3        5         9 #> 5 Eulipotyphla             1        1         2 #> 6 Cingulata                1        1         1  # Include endemism rates pm_list_endemic(include_rate = TRUE) #> # A tibble: 14 × 7 #>    order        n_families n_genera n_endemic n_species endemic_rate endemic_pct #>    <chr>             <int>    <int>     <int>     <int>        <dbl>       <dbl> #>  1 Rodentia             11       67        56       194       0.289         28.9 #>  2 Chiroptera            8       64         9       189       0.0476         4.8 #>  3 Didelphimor…          1       15        10        47       0.213         21.3 #>  4 Artiodactyla         10       31         0        46       0              0   #>  5 Primates              3       12         9        42       0.214         21.4 #>  6 Carnivora             7       20         0        33       0              0   #>  7 Pilosa                4        5         0         7       0              0   #>  8 Cingulata             2        3         1         5       0.2           20   #>  9 Eulipotyphla          1        1         2         3       0.667         66.7 #> 10 Lagomorpha            1        1         0         2       0              0   #> 11 Paucituberc…          1        2         0         2       0              0   #> 12 Perissodact…          1        1         0         2       0              0   #> 13 Sirenia               1        1         0         1       0              0   #> 14 Total                16       43        87       573       0.152         15.2"},{"path":"https://paulesantos.github.io/perumammals/reference/pm_list_families.html","id":null,"dir":"Reference","previous_headings":"","what":"List taxonomic families in the Peruvian mammal backbone — pm_list_families","title":"List taxonomic families in the Peruvian mammal backbone — pm_list_families","text":"Summarises number genera, species endemic species per family. Optionally filters output one taxonomic orders.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/pm_list_families.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List taxonomic families in the Peruvian mammal backbone — pm_list_families","text":"","code":"pm_list_families(order = NULL)"},{"path":"https://paulesantos.github.io/perumammals/reference/pm_list_families.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List taxonomic families in the Peruvian mammal backbone — pm_list_families","text":"order Optional character vector specifying one taxonomic orders include. NULL (default), orders included. Order names case-sensitive (e.g., \"Rodentia\", \"Chiroptera\").","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/pm_list_families.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List taxonomic families in the Peruvian mammal backbone — pm_list_families","text":"tibble one row per family, arranged order family name, following columns: order Taxonomic order family Family name n_genera Number genera family n_species Number species family n_endemic Number endemic species Peru family","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/pm_list_families.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List taxonomic families in the Peruvian mammal backbone — pm_list_families","text":"","code":"# All families pm_list_families() #> # A tibble: 51 × 5 #>    order        family          n_genera n_species n_endemic #>    <chr>        <chr>              <int>     <int>     <int> #>  1 Artiodactyla Balaenidae             1         1         0 #>  2 Artiodactyla Balaenopteridae        2         6         0 #>  3 Artiodactyla Camelidae              2         4         0 #>  4 Artiodactyla Cerevidae              5         8         0 #>  5 Artiodactyla Delphinidae           13        17         0 #>  6 Artiodactyla Iniidae                1         1         0 #>  7 Artiodactyla Phocoenidae            1         1         0 #>  8 Artiodactyla Physeteridae           2         3         0 #>  9 Artiodactyla Tayassuidae            2         2         0 #> 10 Artiodactyla Ziphiidae              2         3         0 #> # ℹ 41 more rows  # Only families within Rodentia pm_list_families(order = \"Rodentia\") #> # A tibble: 11 × 5 #>    order    family         n_genera n_species n_endemic #>    <chr>    <chr>             <int>     <int>     <int> #>  1 Rodentia Abrocomidae           2         3         2 #>  2 Rodentia Caviidae              4         6         0 #>  3 Rodentia Chinchillidae         3         3         1 #>  4 Rodentia Cricetidae           40       137        47 #>  5 Rodentia Ctenomyidae           1         3         1 #>  6 Rodentia Cuniculidae           1         2         0 #>  7 Rodentia Dasyproctidae         2         5         1 #>  8 Rodentia Dinomyidae            1         1         0 #>  9 Rodentia Echimyidae            8        20         3 #> 10 Rodentia Erethizontidae        1         4         0 #> 11 Rodentia Sciuridae             4        10         1  # Multiple orders pm_list_families(order = c(\"Rodentia\", \"Chiroptera\")) #> # A tibble: 19 × 5 #>    order      family           n_genera n_species n_endemic #>    <chr>      <chr>               <int>     <int>     <int> #>  1 Chiroptera Emballonuridae          7        14         0 #>  2 Chiroptera Furipteridae            2         2         0 #>  3 Chiroptera Molossidae              9        30         3 #>  4 Chiroptera Mormoopidae             2         5         0 #>  5 Chiroptera Noctilionidae           1         2         0 #>  6 Chiroptera Phyllostomidae         38       107         3 #>  7 Chiroptera Thyropteridae           1         4         0 #>  8 Chiroptera Vespertilionidae        4        25         3 #>  9 Rodentia   Abrocomidae             2         3         2 #> 10 Rodentia   Caviidae                4         6         0 #> 11 Rodentia   Chinchillidae           3         3         1 #> 12 Rodentia   Cricetidae             40       137        47 #> 13 Rodentia   Ctenomyidae             1         3         1 #> 14 Rodentia   Cuniculidae             1         2         0 #> 15 Rodentia   Dasyproctidae           2         5         1 #> 16 Rodentia   Dinomyidae              1         1         0 #> 17 Rodentia   Echimyidae              8        20         3 #> 18 Rodentia   Erethizontidae          1         4         0 #> 19 Rodentia   Sciuridae               4        10         1"},{"path":"https://paulesantos.github.io/perumammals/reference/pm_list_genera.html","id":null,"dir":"Reference","previous_headings":"","what":"List genera in the Peruvian mammal backbone — pm_list_genera","title":"List genera in the Peruvian mammal backbone — pm_list_genera","text":"Summarises number species endemic species per genus. Optionally restricts output one orders /families. Genera missing values excluded results.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/pm_list_genera.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List genera in the Peruvian mammal backbone — pm_list_genera","text":"","code":"pm_list_genera(order = NULL, family = NULL)"},{"path":"https://paulesantos.github.io/perumammals/reference/pm_list_genera.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List genera in the Peruvian mammal backbone — pm_list_genera","text":"order Optional character vector one taxonomic orders keep. NULL (default), filter applied order. Invalid order names generate warning. family Optional character vector one families keep. NULL (default), filter applied family. Invalid family names generate warning.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/pm_list_genera.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List genera in the Peruvian mammal backbone — pm_list_genera","text":"tibble one row per genus following columns: order – taxonomic order. family – family name. genus – genus name. n_species – number species genus. n_endemic – number endemic species genus. Returns empty tibble structure records match specified filters.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/pm_list_genera.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"List genera in the Peruvian mammal backbone — pm_list_genera","text":"function validates input parameters warns invalid order family names provided. also warns filters result empty dataset.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/pm_list_genera.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List genera in the Peruvian mammal backbone — pm_list_genera","text":"","code":"# All genera pm_list_genera() #> # A tibble: 223 × 5 #>    order        family          genus        n_species n_endemic #>    <chr>        <chr>           <chr>            <int>     <int> #>  1 Artiodactyla Balaenidae      Eubalaena            1         0 #>  2 Artiodactyla Balaenopteridae Balaenoptera         5         0 #>  3 Artiodactyla Balaenopteridae Megaptera            1         0 #>  4 Artiodactyla Camelidae       Lama                 2         0 #>  5 Artiodactyla Camelidae       Vicugna              2         0 #>  6 Artiodactyla Cerevidae       Blastocerus          1         0 #>  7 Artiodactyla Cerevidae       Hippocamelus         1         0 #>  8 Artiodactyla Cerevidae       Mazama               4         0 #>  9 Artiodactyla Cerevidae       Odocoileus           1         0 #> 10 Artiodactyla Cerevidae       Pudu                 1         0 #> # ℹ 213 more rows  # Genera within Chiroptera (bats) pm_list_genera(order = \"Chiroptera\") #> # A tibble: 64 × 5 #>    order      family         genus           n_species n_endemic #>    <chr>      <chr>          <chr>               <int>     <int> #>  1 Chiroptera Emballonuridae Centronycteris          2         0 #>  2 Chiroptera Emballonuridae Cormura                 1         0 #>  3 Chiroptera Emballonuridae Cyttarops               1         0 #>  4 Chiroptera Emballonuridae Diclidurus              2         0 #>  5 Chiroptera Emballonuridae Peropteryx              4         0 #>  6 Chiroptera Emballonuridae Rhynchonycteris         1         0 #>  7 Chiroptera Emballonuridae Saccopteryx             3         0 #>  8 Chiroptera Furipteridae   Amorphochilus           1         0 #>  9 Chiroptera Furipteridae   Furipterus              1         0 #> 10 Chiroptera Molossidae     Cynomops                4         0 #> # ℹ 54 more rows  # Multiple orders pm_list_genera(order = c(\"Didelphimorphia\", \"Chiroptera\")) #> # A tibble: 79 × 5 #>    order      family         genus           n_species n_endemic #>    <chr>      <chr>          <chr>               <int>     <int> #>  1 Chiroptera Emballonuridae Centronycteris          2         0 #>  2 Chiroptera Emballonuridae Cormura                 1         0 #>  3 Chiroptera Emballonuridae Cyttarops               1         0 #>  4 Chiroptera Emballonuridae Diclidurus              2         0 #>  5 Chiroptera Emballonuridae Peropteryx              4         0 #>  6 Chiroptera Emballonuridae Rhynchonycteris         1         0 #>  7 Chiroptera Emballonuridae Saccopteryx             3         0 #>  8 Chiroptera Furipteridae   Amorphochilus           1         0 #>  9 Chiroptera Furipteridae   Furipterus              1         0 #> 10 Chiroptera Molossidae     Cynomops                4         0 #> # ℹ 69 more rows  # Genera within a specific family bat_genera <- pm_list_genera(family = \"Phyllostomidae\")  # Count total endemic species in a family sum(bat_genera$n_endemic) #> [1] 3  # Combination of filters pm_list_genera(order = \"Chiroptera\", family = \"Phyllostomidae\") #> # A tibble: 38 × 5 #>    order      family         genus        n_species n_endemic #>    <chr>      <chr>          <chr>            <int>     <int> #>  1 Chiroptera Phyllostomidae Anoura               8         1 #>  2 Chiroptera Phyllostomidae Artibeus            12         0 #>  3 Chiroptera Phyllostomidae Carollia             5         0 #>  4 Chiroptera Phyllostomidae Chiroderma           3         0 #>  5 Chiroptera Phyllostomidae Choeroniscus         1         0 #>  6 Chiroptera Phyllostomidae Chrotopterus         1         0 #>  7 Chiroptera Phyllostomidae Desmodus             1         0 #>  8 Chiroptera Phyllostomidae Diaemus              1         0 #>  9 Chiroptera Phyllostomidae Diphylla             1         0 #> 10 Chiroptera Phyllostomidae Enchisthenes         1         0 #> # ℹ 28 more rows"},{"path":"https://paulesantos.github.io/perumammals/reference/pm_list_orders.html","id":null,"dir":"Reference","previous_headings":"","what":"List taxonomic orders in the Peruvian mammal backbone — pm_list_orders","title":"List taxonomic orders in the Peruvian mammal backbone — pm_list_orders","text":"Summarises number families, genera, species endemic species per order peru_mammals.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/pm_list_orders.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List taxonomic orders in the Peruvian mammal backbone — pm_list_orders","text":"","code":"pm_list_orders()"},{"path":"https://paulesantos.github.io/perumammals/reference/pm_list_orders.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List taxonomic orders in the Peruvian mammal backbone — pm_list_orders","text":"tibble one row per order following columns: order – taxonomic order. n_families – number families order. n_genera – number genera order. n_species – number species order. n_endemic – number endemic species order.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/pm_list_orders.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List taxonomic orders in the Peruvian mammal backbone — pm_list_orders","text":"","code":"pm_list_orders() #> # A tibble: 13 × 5 #>    order            n_families n_genera n_species n_endemic #>    <chr>                 <int>    <int>     <int>     <int> #>  1 Artiodactyla             10       31        46         0 #>  2 Carnivora                 7       20        33         0 #>  3 Chiroptera                8       64       189         9 #>  4 Cingulata                 2        3         5         1 #>  5 Didelphimorphia           1       15        47        10 #>  6 Eulipotyphla              1        1         3         2 #>  7 Lagomorpha                1        1         2         0 #>  8 Paucituberculata          1        2         2         0 #>  9 Perissodactyla            1        1         2         0 #> 10 Pilosa                    4        5         7         0 #> 11 Primates                  3       12        42         9 #> 12 Rodentia                 11       67       194        56 #> 13 Sirenia                   1        1         1         0"},{"path":"https://paulesantos.github.io/perumammals/reference/pm_species.html","id":null,"dir":"Reference","previous_headings":"","what":"Filter mammal species from the Peruvian backbone — pm_species","title":"Filter mammal species from the Peruvian backbone — pm_species","text":"Convenience wrapper around peru_mammals subset species taxonomic group, endemism /ecoregion.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/pm_species.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Filter mammal species from the Peruvian backbone — pm_species","text":"","code":"pm_species(   order = NULL,   family = NULL,   genus = NULL,   endemic = NULL,   ecoregion = NULL )"},{"path":"https://paulesantos.github.io/perumammals/reference/pm_species.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Filter mammal species from the Peruvian backbone — pm_species","text":"order Optional character vector one taxonomic orders keep. NULL (default), filter applied order. family Optional character vector one families keep. NULL (default), filter applied family. genus Optional character vector one genera keep. NULL (default), filter applied genus. endemic Optional logical. TRUE, endemic species returned; FALSE, non-endemic species returned; NULL (default), filter applied endemism. ecoregion Optional character vector one ecoregion codes (e.g. \"YUN\", \"SB\", \"COS\"). supplied, species occurring least one given ecoregions returned.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/pm_species.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Filter mammal species from the Peruvian backbone — pm_species","text":"tibble subset rows peru_mammals.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/pm_species.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Filter mammal species from the Peruvian backbone — pm_species","text":"","code":"# All species pm_species() #> # A tibble: 573 × 5 #>    order        family          genus        species      scientific_name        #>    <chr>        <chr>           <chr>        <chr>        <chr>                  #>  1 Artiodactyla Balaenidae      Eubalaena    australis    Eubalaena australis    #>  2 Artiodactyla Balaenopteridae Balaenoptera bonaerensis  Balaenoptera bonaeren… #>  3 Artiodactyla Balaenopteridae Balaenoptera borealis     Balaenoptera borealis  #>  4 Artiodactyla Balaenopteridae Balaenoptera edeni        Balaenoptera edeni     #>  5 Artiodactyla Balaenopteridae Balaenoptera musculus     Balaenoptera musculus  #>  6 Artiodactyla Balaenopteridae Balaenoptera physalus     Balaenoptera physalus  #>  7 Artiodactyla Balaenopteridae Megaptera    novaeangliae Megaptera novaeangliae #>  8 Artiodactyla Camelidae       Lama         glama        Lama glama             #>  9 Artiodactyla Camelidae       Lama         guanicoe     Lama guanicoe          #> 10 Artiodactyla Camelidae       Vicugna      pacos        Vicugna pacos          #> # ℹ 563 more rows  # Only Rodentia pm_species(order = \"Rodentia\") #> # A tibble: 194 × 5 #>    order    family        genus        species      scientific_name           #>    <chr>    <chr>         <chr>        <chr>        <chr>                     #>  1 Rodentia Abrocomidae   Abrocoma     cinerea      Abrocoma cinerea          #>  2 Rodentia Abrocomidae   Cuscomys     ashaninka    Cuscomys ashaninka        #>  3 Rodentia Abrocomidae   Cuscomys     oblativus    Cuscomys oblativus        #>  4 Rodentia Caviidae      Cavia        aperea       Cavia aperea              #>  5 Rodentia Caviidae      Cavia        porcellus    Cavia porcellus           #>  6 Rodentia Caviidae      Cavia        tschudii     Cavia tschudii            #>  7 Rodentia Caviidae      Galea        musteloides  Galea musteloides         #>  8 Rodentia Caviidae      Hydrochoerus hydrochaeris Hydrochoerus hydrochaeris #>  9 Rodentia Caviidae      Microcavia   niata        Microcavia niata          #> 10 Rodentia Chinchillidae Chinchilla   chinchilla   Chinchilla chinchilla     #> # ℹ 184 more rows  # Endemic bats (Chiroptera) pm_species(order = \"Chiroptera\", endemic = TRUE) #> # A tibble: 9 × 5 #>   order      family           genus         species   scientific_name      #>   <chr>      <chr>            <chr>         <chr>     <chr>                #> 1 Chiroptera Molossidae       Eumops        chiribaya Eumops chiribaya     #> 2 Chiroptera Molossidae       Mormopterus   phrudus   Mormopterus phrudus  #> 3 Chiroptera Molossidae       Tomopeas      ravus     Tomopeas ravus       #> 4 Chiroptera Phyllostomidae   Anoura        javieri   Anoura javieri       #> 5 Chiroptera Phyllostomidae   Hsunycteris   dashe     Hsunycteris dashe    #> 6 Chiroptera Phyllostomidae   Micronycteris matses    Micronycteris matses #> 7 Chiroptera Vespertilionidae Eptesicus     mochica   Eptesicus mochica    #> 8 Chiroptera Vespertilionidae Lasiurus      arequipae Lasiurus arequipae   #> 9 Chiroptera Vespertilionidae Myotis        bakeri    Myotis bakeri         # Species present in Yungas (YUN) and Selva Baja (SB) pm_species(ecoregion = c(\"YUN\", \"SB\")) #> # A tibble: 430 × 5 #>    order        family      genus       species        scientific_name        #>    <chr>        <chr>       <chr>       <chr>          <chr>                  #>  1 Artiodactyla Cerevidae   Blastocerus dichotomus     Blastocerus dichotomus #>  2 Artiodactyla Cerevidae   Mazama      americana      Mazama americana       #>  3 Artiodactyla Cerevidae   Mazama      chunyi         Mazama chunyi          #>  4 Artiodactyla Cerevidae   Mazama      nemorivaga     Mazama nemorivaga      #>  5 Artiodactyla Cerevidae   Mazama      rufina         Mazama rufina          #>  6 Artiodactyla Cerevidae   Odocoileus  peruvianus     Odocoileus peruvianus  #>  7 Artiodactyla Cerevidae   Pudu        mephistophiles Pudu mephistophiles    #>  8 Artiodactyla Delphinidae Sotalia     fluviatilis    Sotalia fluviatilis    #>  9 Artiodactyla Iniidae     Inia        geoffrensis    Inia geoffrensis       #> 10 Artiodactyla Tayassuidae Dicotyles   tajacu         Dicotyles tajacu       #> # ℹ 420 more rows"},{"path":"https://paulesantos.github.io/perumammals/reference/show_progress.html","id":null,"dir":"Reference","previous_headings":"","what":"Determine whether to show progress bar — show_progress","title":"Determine whether to show progress bar — show_progress","text":"Returns logical TRUE/FALSE depending package options whether session interactive.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/show_progress.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Determine whether to show progress bar — show_progress","text":"","code":"show_progress()"},{"path":"https://paulesantos.github.io/perumammals/reference/show_progress.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Determine whether to show progress bar — show_progress","text":"Logical indicating whether progress bars shown.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/validate_peru_mammals.html","id":null,"dir":"Reference","previous_headings":"","what":"Match Species Names Against Peru Mammals Database — validate_peru_mammals","title":"Match Species Names Against Peru Mammals Database — validate_peru_mammals","text":"Matches given species names official list mammal species Peru (Pacheco et al. 2021). Uses hierarchical matching strategy includes direct matching, genus-level matching, fuzzy matching maximize successful matches maintaining accuracy. Peru Mammals Database: 575 mammal species Binomial nomenclature (infraspecific taxa) Includes 6 undescribed species (\"sp.\" cases) Fields: genus, species, scientific_name, common_name, family, order, endemic","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/validate_peru_mammals.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Match Species Names Against Peru Mammals Database — validate_peru_mammals","text":"","code":"validate_peru_mammals(splist, quiet = TRUE)"},{"path":"https://paulesantos.github.io/perumammals/reference/validate_peru_mammals.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Match Species Names Against Peru Mammals Database — validate_peru_mammals","text":"splist character vector containing species names matched. Names can format (uppercase, lowercase, underscores, etc.). Duplicate names preserved output. quiet Logical, default TRUE. FALSE, prints informative messages matching progress.","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/validate_peru_mammals.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Match Species Names Against Peru Mammals Database — validate_peru_mammals","text":"tibble following columns: sorter Integer. Original position input vector Orig.Name Character. Original input name (standardized) Matched.Name Character. Matched name database \"—\" Match.Level Character. Quality match (\"Exact rank\", \"match\", etc.) matched Logical. Whether match found Rank Integer. Input taxonomic rank (1 2) Matched.Rank Integer. Matched taxonomic rank (1 2) Comp.Rank Logical. Whether ranks match exactly valid_rank Logical. Whether match valid correct rank Orig.Genus Character. Input genus (uppercase) Orig.Species Character. Input species (uppercase) Author Character. Taxonomic authority provided Matched.Genus Character. Matched genus (uppercase) Matched.Species Character. Matched species (uppercase) genus_dist Integer. Edit distance genus (0=exact, >0=fuzzy, NA=match) species_dist Integer. Edit distance species (0=exact, >0=fuzzy, NA=match genus-) scientific_name Character. Scientific name peru_mammals common_name Character. Common name Spanish family Character. Family order Character. Order endemic Logical. Endemic Peru? Attributes: output includes metadata accessible via attr(): target_database: \"peru_mammals\" matching_date: Date matching n_input: Number input names n_matched: Number successful matches match_rate: Percentage successful matches n_fuzzy_genus: Number fuzzy genus matches n_fuzzy_species: Number fuzzy species matches ambiguous_genera: Ambiguous genus matches () ambiguous_species: Ambiguous species matches ()","code":""},{"path":"https://paulesantos.github.io/perumammals/reference/validate_peru_mammals.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Match Species Names Against Peru Mammals Database — validate_peru_mammals","text":"Matching Strategy: function implements hierarchical matching pipeline: Node 1 - Direct Match: Exact matching binomial names (genus + species) Node 2 - Genus Match: Exact matching genus level Node 3 - Fuzzy Genus: Fuzzy matching genus typos (max distance = 1) Node 4 - Fuzzy Species: Fuzzy matching species within matched genus Special Cases: Handles \"sp.\" cases: \"Akodon sp. Ancash\", \"Oligoryzomys sp. B\", etc. Case-insensitive matching Removes common qualifiers (CF., AFF.) Standardizes spacing formatting Rank System: Rank 1: Genus level (e.g., \"Panthera\") Rank 2: Binomial (genus + species, e.g., \"Panthera onca\") Ambiguous Matches: multiple candidates identical fuzzy match scores, warning issued first match selected. Use get_ambiguous_matches() examine cases. Input Requirements: Species names must provided binomials (Genus species) WITHOUT: Author information: ❌ \"Panthera onca Linnaeus\" Infraspecific taxa: ❌ \"Panthera onca onca\" Parenthetical authors: ❌ \"Panthera onca (Linnaeus, 1758)\" Valid formats: Standard binomial: ✅ \"Panthera onca\" Undescribed species: ✅ \"Akodon sp. Ancash\" Case-insensitive: ✅ \"PANTHERA ONCA\" \"panthera onca\" Names 3+ elements automatically rejected warning.","code":""},{"path":[]},{"path":"https://paulesantos.github.io/perumammals/reference/validate_peru_mammals.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Match Species Names Against Peru Mammals Database — validate_peru_mammals","text":"","code":"# Basic usage species_list <- c(\"Panthera onca\", \"Tremarctos ornatus\", \"Puma concolor\") results <- validate_peru_mammals(species_list)  # Check results table(results$matched) #>  #> TRUE  #>    3  table(results$Match.Level) #>  #> Exact rank  #>          3   # View matched species results |>   dplyr::filter(matched) |>   dplyr::select(Orig.Name, Matched.Name, common_name, endemic) #>            Orig.Name       Matched.Name                     common_name endemic #> 1      Panthera onca      Panthera onca      Jaguar, otorongo, uturuncu   FALSE #> 2 Tremarctos ornatus Tremarctos ornatus Oso de anteojos, ucumari, ucucu   FALSE #> 3      Puma concolor      Puma concolor        Puma, león, lluichu-puma   FALSE  # With typos (fuzzy matching) typos <- c(\"Pumma concolor\", \"Tremarctos ornatu\")  # Spelling errors results_fuzzy <- validate_peru_mammals(typos, quiet = FALSE) #> Loaded peru_mammals database: 573 species #> Classified 2 input names #>   Rank 1 (genus): 0 #>   Rank 2 (binomial): 2 #>  #> Starting hierarchical matching pipeline... #> Node 2 (Genus match): 1 matches #> Node 3 (Fuzzy genus): 1 matches #> Node 4 (Fuzzy species): 2 matches #>  #> ── Validating name format ── #>  #> ── MATCHING SUMMARY ────────────────────────────────────────────────────────────  # Check for ambiguous matches get_ambiguous_matches(results_fuzzy, type = \"genus\") #> No ambiguous genus matches found.  # Access metadata attr(results, \"match_rate\") #> [1] 100 attr(results, \"n_fuzzy_genus\") #> [1] 0  # With special \"sp.\" cases sp_cases <- c(\"Akodon sp. Ancash\", \"Oligoryzomys sp. B\") results_sp <- validate_peru_mammals(sp_cases) # Should match exactly"},{"path":"https://paulesantos.github.io/perumammals/SUPPORT.html","id":null,"dir":"","previous_headings":"","what":"Getting help with perumammals","title":"Getting help with perumammals","text":"Thanks using perumammals! filing issue, places explore pieces put together make process smooth possible.","code":""},{"path":"https://paulesantos.github.io/perumammals/SUPPORT.html","id":"make-a-reprex","dir":"","previous_headings":"","what":"Make a reprex","title":"Getting help with perumammals","text":"Start making minimal reproducible example using reprex package. haven’t heard used reprex , ’re treat! Seriously, reprex make R-question-asking endeavors easier (pretty incredible ROI five ten minutes ’ll take learn ’s ). additional reprex pointers, check Get help! section tidyverse site.","code":""},{"path":"https://paulesantos.github.io/perumammals/SUPPORT.html","id":"where-to-ask","dir":"","previous_headings":"","what":"Where to ask?","title":"Getting help with perumammals","text":"Armed reprex, next step figure ask. ’s question: start community.rstudio.com, /StackOverflow. people answer questions. ’s bug: ’re right place, file issue. ’re sure: let community help figure ! problem bug feature request, can easily return report . opening new issue, sure search issues pull requests make sure bug hasn’t reported /already fixed development version. default, search pre-populated :issue :open. can edit qualifiers (e.g. :pr, :closed) needed. example, ’d simply remove :open search issues repo, open closed.","code":""},{"path":"https://paulesantos.github.io/perumammals/SUPPORT.html","id":"what-happens-next","dir":"","previous_headings":"","what":"What happens next?","title":"Getting help with perumammals","text":"efficient possible, development tidyverse packages tends bursty, shouldn’t worry don’t get immediate response. Typically don’t look repo sufficient quantity issues accumulates, ’s burst intense activity focus efforts. makes development efficient avoids expensive context switching problems, cost taking longer get back . process makes good reprex particularly important might multiple months initial report start working . can’t reproduce bug, can’t fix !","code":""}]
